/*! Wowchemy v5.3.0 | https://wowchemy.com/ */
/*! Copyright 2016-present George Cushen (https://georgecushen.com/) */
/*! License: https://github.com/wowchemy/wowchemy-hugo-modules/blob/main/LICENSE.md */

;
(() => {
  // <stdin>
  (() => {
    var _extends = Object.assign || function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    };
    var isSupported = function isSupported2(node) {
      return node.tagName === "IMG";
    };
    var isNodeList = function isNodeList2(selector) {
      return NodeList.prototype.isPrototypeOf(selector);
    };
    var isNode = function isNode2(selector) {
      return selector && selector.nodeType === 1;
    };
    var isSvg = function isSvg2(image) {
      var source = image.currentSrc || image.src;
      return source.substr(-4).toLowerCase() === ".svg";
    };
    var getImagesFromSelector = function getImagesFromSelector2(selector) {
      try {
        if (Array.isArray(selector)) {
          return selector.filter(isSupported);
        }
        if (isNodeList(selector)) {
          return [].slice.call(selector).filter(isSupported);
        }
        if (isNode(selector)) {
          return [selector].filter(isSupported);
        }
        if (typeof selector === "string") {
          return [].slice.call(document.querySelectorAll(selector)).filter(isSupported);
        }
        return [];
      } catch (err) {
        throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom");
      }
    };
    var createOverlay = function createOverlay2(background) {
      var overlay = document.createElement("div");
      overlay.classList.add("medium-zoom-overlay");
      overlay.style.background = background;
      return overlay;
    };
    var cloneTarget = function cloneTarget2(template) {
      var _template$getBounding = template.getBoundingClientRect(), top = _template$getBounding.top, left = _template$getBounding.left, width = _template$getBounding.width, height = _template$getBounding.height;
      var clone = template.cloneNode();
      var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
      var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;
      clone.removeAttribute("id");
      clone.style.position = "absolute";
      clone.style.top = top + scrollTop + "px";
      clone.style.left = left + scrollLeft + "px";
      clone.style.width = width + "px";
      clone.style.height = height + "px";
      clone.style.transform = "";
      return clone;
    };
    var createCustomEvent = function createCustomEvent2(type, params) {
      var eventParams = _extends({
        bubbles: false,
        cancelable: false,
        detail: void 0
      }, params);
      if (typeof window.CustomEvent === "function") {
        return new CustomEvent(type, eventParams);
      }
      var customEvent = document.createEvent("CustomEvent");
      customEvent.initCustomEvent(type, eventParams.bubbles, eventParams.cancelable, eventParams.detail);
      return customEvent;
    };
    var mediumZoomEsm = function mediumZoom(selector) {
      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
      var Promise2 = window.Promise || function Promise3(fn) {
        function noop() {
        }
        fn(noop, noop);
      };
      var _handleClick = function _handleClick2(event) {
        var target = event.target;
        if (target === overlay) {
          close();
          return;
        }
        if (images.indexOf(target) === -1) {
          return;
        }
        toggle({target});
      };
      var _handleScroll = function _handleScroll2() {
        if (isAnimating || !active.original) {
          return;
        }
        var currentScroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        if (Math.abs(scrollTop - currentScroll) > zoomOptions.scrollOffset) {
          setTimeout(close, 150);
        }
      };
      var _handleKeyUp = function _handleKeyUp2(event) {
        var key = event.key || event.keyCode;
        if (key === "Escape" || key === "Esc" || key === 27) {
          close();
        }
      };
      var update = function update2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        var newOptions = options2;
        if (options2.background) {
          overlay.style.background = options2.background;
        }
        if (options2.container && options2.container instanceof Object) {
          newOptions.container = _extends({}, zoomOptions.container, options2.container);
        }
        if (options2.template) {
          var template = isNode(options2.template) ? options2.template : document.querySelector(options2.template);
          newOptions.template = template;
        }
        zoomOptions = _extends({}, zoomOptions, newOptions);
        images.forEach(function(image) {
          image.dispatchEvent(createCustomEvent("medium-zoom:update", {
            detail: {zoom}
          }));
        });
        return zoom;
      };
      var clone = function clone2() {
        var options2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        return mediumZoomEsm(_extends({}, zoomOptions, options2));
      };
      var attach = function attach2() {
        for (var _len = arguments.length, selectors = Array(_len), _key = 0; _key < _len; _key++) {
          selectors[_key] = arguments[_key];
        }
        var newImages = selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []);
        newImages.filter(function(newImage) {
          return images.indexOf(newImage) === -1;
        }).forEach(function(newImage) {
          images.push(newImage);
          newImage.classList.add("medium-zoom-image");
        });
        eventListeners.forEach(function(_ref) {
          var type = _ref.type, listener = _ref.listener, options2 = _ref.options;
          newImages.forEach(function(image) {
            image.addEventListener(type, listener, options2);
          });
        });
        return zoom;
      };
      var detach = function detach2() {
        for (var _len2 = arguments.length, selectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          selectors[_key2] = arguments[_key2];
        }
        if (active.zoomed) {
          close();
        }
        var imagesToDetach = selectors.length > 0 ? selectors.reduce(function(imagesAccumulator, currentSelector) {
          return [].concat(imagesAccumulator, getImagesFromSelector(currentSelector));
        }, []) : images;
        imagesToDetach.forEach(function(image) {
          image.classList.remove("medium-zoom-image");
          image.dispatchEvent(createCustomEvent("medium-zoom:detach", {
            detail: {zoom}
          }));
        });
        images = images.filter(function(image) {
          return imagesToDetach.indexOf(image) === -1;
        });
        return zoom;
      };
      var on = function on2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.addEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners.push({type: "medium-zoom:" + type, listener, options: options2});
        return zoom;
      };
      var off = function off2(type, listener) {
        var options2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        images.forEach(function(image) {
          image.removeEventListener("medium-zoom:" + type, listener, options2);
        });
        eventListeners = eventListeners.filter(function(eventListener) {
          return !(eventListener.type === "medium-zoom:" + type && eventListener.listener.toString() === listener.toString());
        });
        return zoom;
      };
      var open = function open2() {
        var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref2.target;
        var _animate = function _animate2() {
          var container = {
            width: document.documentElement.clientWidth,
            height: document.documentElement.clientHeight,
            left: 0,
            top: 0,
            right: 0,
            bottom: 0
          };
          var viewportWidth = void 0;
          var viewportHeight = void 0;
          if (zoomOptions.container) {
            if (zoomOptions.container instanceof Object) {
              container = _extends({}, container, zoomOptions.container);
              viewportWidth = container.width - container.left - container.right - zoomOptions.margin * 2;
              viewportHeight = container.height - container.top - container.bottom - zoomOptions.margin * 2;
            } else {
              var zoomContainer = isNode(zoomOptions.container) ? zoomOptions.container : document.querySelector(zoomOptions.container);
              var _zoomContainer$getBou = zoomContainer.getBoundingClientRect(), _width = _zoomContainer$getBou.width, _height = _zoomContainer$getBou.height, _left = _zoomContainer$getBou.left, _top = _zoomContainer$getBou.top;
              container = _extends({}, container, {
                width: _width,
                height: _height,
                left: _left,
                top: _top
              });
            }
          }
          viewportWidth = viewportWidth || container.width - zoomOptions.margin * 2;
          viewportHeight = viewportHeight || container.height - zoomOptions.margin * 2;
          var zoomTarget = active.zoomedHd || active.original;
          var naturalWidth = isSvg(zoomTarget) ? viewportWidth : zoomTarget.naturalWidth || viewportWidth;
          var naturalHeight = isSvg(zoomTarget) ? viewportHeight : zoomTarget.naturalHeight || viewportHeight;
          var _zoomTarget$getBoundi = zoomTarget.getBoundingClientRect(), top = _zoomTarget$getBoundi.top, left = _zoomTarget$getBoundi.left, width = _zoomTarget$getBoundi.width, height = _zoomTarget$getBoundi.height;
          var scaleX = Math.min(naturalWidth, viewportWidth) / width;
          var scaleY = Math.min(naturalHeight, viewportHeight) / height;
          var scale = Math.min(scaleX, scaleY);
          var translateX = (-left + (viewportWidth - width) / 2 + zoomOptions.margin + container.left) / scale;
          var translateY = (-top + (viewportHeight - height) / 2 + zoomOptions.margin + container.top) / scale;
          var transform = "scale(" + scale + ") translate3d(" + translateX + "px, " + translateY + "px, 0)";
          active.zoomed.style.transform = transform;
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = transform;
          }
        };
        return new Promise2(function(resolve) {
          if (target && images.indexOf(target) === -1) {
            resolve(zoom);
            return;
          }
          var _handleOpenEnd = function _handleOpenEnd2() {
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleOpenEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:opened", {
              detail: {zoom}
            }));
            resolve(zoom);
          };
          if (active.zoomed) {
            resolve(zoom);
            return;
          }
          if (target) {
            active.original = target;
          } else if (images.length > 0) {
            var _images = images;
            active.original = _images[0];
          } else {
            resolve(zoom);
            return;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:open", {
            detail: {zoom}
          }));
          scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
          isAnimating = true;
          active.zoomed = cloneTarget(active.original);
          document.body.appendChild(overlay);
          if (zoomOptions.template) {
            var template = isNode(zoomOptions.template) ? zoomOptions.template : document.querySelector(zoomOptions.template);
            active.template = document.createElement("div");
            active.template.appendChild(template.content.cloneNode(true));
            document.body.appendChild(active.template);
          }
          document.body.appendChild(active.zoomed);
          window.requestAnimationFrame(function() {
            document.body.classList.add("medium-zoom--opened");
          });
          active.original.classList.add("medium-zoom-image--hidden");
          active.zoomed.classList.add("medium-zoom-image--opened");
          active.zoomed.addEventListener("click", close);
          active.zoomed.addEventListener("transitionend", _handleOpenEnd);
          if (active.original.getAttribute("data-zoom-src")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("srcset");
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.src = active.zoomed.getAttribute("data-zoom-src");
            active.zoomedHd.onerror = function() {
              clearInterval(getZoomTargetSize);
              console.warn("Unable to reach the zoom image target " + active.zoomedHd.src);
              active.zoomedHd = null;
              _animate();
            };
            var getZoomTargetSize = setInterval(function() {
              if (active.zoomedHd.complete) {
                clearInterval(getZoomTargetSize);
                active.zoomedHd.classList.add("medium-zoom-image--opened");
                active.zoomedHd.addEventListener("click", close);
                document.body.appendChild(active.zoomedHd);
                _animate();
              }
            }, 10);
          } else if (active.original.hasAttribute("srcset")) {
            active.zoomedHd = active.zoomed.cloneNode();
            active.zoomedHd.removeAttribute("sizes");
            active.zoomedHd.removeAttribute("loading");
            var loadEventListener = active.zoomedHd.addEventListener("load", function() {
              active.zoomedHd.removeEventListener("load", loadEventListener);
              active.zoomedHd.classList.add("medium-zoom-image--opened");
              active.zoomedHd.addEventListener("click", close);
              document.body.appendChild(active.zoomedHd);
              _animate();
            });
          } else {
            _animate();
          }
        });
      };
      var close = function close2() {
        return new Promise2(function(resolve) {
          if (isAnimating || !active.original) {
            resolve(zoom);
            return;
          }
          var _handleCloseEnd = function _handleCloseEnd2() {
            active.original.classList.remove("medium-zoom-image--hidden");
            document.body.removeChild(active.zoomed);
            if (active.zoomedHd) {
              document.body.removeChild(active.zoomedHd);
            }
            document.body.removeChild(overlay);
            active.zoomed.classList.remove("medium-zoom-image--opened");
            if (active.template) {
              document.body.removeChild(active.template);
            }
            isAnimating = false;
            active.zoomed.removeEventListener("transitionend", _handleCloseEnd2);
            active.original.dispatchEvent(createCustomEvent("medium-zoom:closed", {
              detail: {zoom}
            }));
            active.original = null;
            active.zoomed = null;
            active.zoomedHd = null;
            active.template = null;
            resolve(zoom);
          };
          isAnimating = true;
          document.body.classList.remove("medium-zoom--opened");
          active.zoomed.style.transform = "";
          if (active.zoomedHd) {
            active.zoomedHd.style.transform = "";
          }
          if (active.template) {
            active.template.style.transition = "opacity 150ms";
            active.template.style.opacity = 0;
          }
          active.original.dispatchEvent(createCustomEvent("medium-zoom:close", {
            detail: {zoom}
          }));
          active.zoomed.addEventListener("transitionend", _handleCloseEnd);
        });
      };
      var toggle = function toggle2() {
        var _ref3 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, target = _ref3.target;
        if (active.original) {
          return close();
        }
        return open({target});
      };
      var getOptions = function getOptions2() {
        return zoomOptions;
      };
      var getImages = function getImages2() {
        return images;
      };
      var getZoomedImage = function getZoomedImage2() {
        return active.original;
      };
      var images = [];
      var eventListeners = [];
      var isAnimating = false;
      var scrollTop = 0;
      var zoomOptions = options;
      var active = {
        original: null,
        zoomed: null,
        zoomedHd: null,
        template: null
      };
      if (Object.prototype.toString.call(selector) === "[object Object]") {
        zoomOptions = selector;
      } else if (selector || typeof selector === "string") {
        attach(selector);
      }
      zoomOptions = _extends({
        margin: 0,
        background: "#fff",
        scrollOffset: 40,
        container: null,
        template: null
      }, zoomOptions);
      var overlay = createOverlay(zoomOptions.background);
      document.addEventListener("click", _handleClick);
      document.addEventListener("keyup", _handleKeyUp);
      document.addEventListener("scroll", _handleScroll);
      window.addEventListener("resize", close);
      var zoom = {
        open,
        close,
        toggle,
        update,
        clone,
        attach,
        detach,
        on,
        off,
        getOptions,
        getImages,
        getZoomedImage
      };
      return zoom;
    };
    function styleInject(css2, ref) {
      if (ref === void 0)
        ref = {};
      var insertAt = ref.insertAt;
      if (!css2 || typeof document === "undefined") {
        return;
      }
      var head = document.head || document.getElementsByTagName("head")[0];
      var style = document.createElement("style");
      style.type = "text/css";
      if (insertAt === "top") {
        if (head.firstChild) {
          head.insertBefore(style, head.firstChild);
        } else {
          head.appendChild(style);
        }
      } else {
        head.appendChild(style);
      }
      if (style.styleSheet) {
        style.styleSheet.cssText = css2;
      } else {
        style.appendChild(document.createTextNode(css2));
      }
    }
    var css = ".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";
    styleInject(css);
    var medium_zoom_esm_default = mediumZoomEsm;
    var codeHighlighting = true;
    var hugoEnvironment = "development";
    var searchEnabled = true;
    function fixMermaid(render = false) {
      let mermaids = [];
      [].push.apply(mermaids, document.getElementsByClassName("language-mermaid"));
      for (let i = 0; i < mermaids.length; i++) {
        let mermaidCodeElement = mermaids[i];
        let newElement = document.createElement("div");
        newElement.innerHTML = mermaidCodeElement.innerHTML;
        newElement.classList.add("mermaid");
        if (render) {
          window.mermaid.mermaidAPI.render(`mermaid-${i}`, newElement.textContent, function(svgCode) {
            newElement.innerHTML = svgCode;
          });
        }
        mermaidCodeElement.parentNode.replaceWith(newElement);
      }
      console.debug(`Processed ${mermaids.length} Mermaid code blocks`);
    }
    function scrollParentToChild(parent, child) {
      const parentRect = parent.getBoundingClientRect();
      const parentViewableArea = {
        height: parent.clientHeight,
        width: parent.clientWidth
      };
      const childRect = child.getBoundingClientRect();
      const isChildInView = childRect.top >= parentRect.top && childRect.bottom <= parentRect.top + parentViewableArea.height;
      if (!isChildInView) {
        parent.scrollTop = childRect.top + parent.scrollTop - parentRect.top;
      }
    }
    function fadeIn(element, duration = 600) {
      element.style.display = "";
      element.style.opacity = "0";
      let last = +new Date();
      let tick = function() {
        element.style.opacity = (+element.style.opacity + (new Date() - last) / duration).toString();
        last = +new Date();
        if (+element.style.opacity < 1) {
          window.requestAnimationFrame && requestAnimationFrame(tick) || setTimeout(tick, 16);
        }
      };
      tick();
    }
    var body = document.body;
    function getThemeMode() {
      return parseInt(localStorage.getItem("wcTheme") || 2);
    }
    function canChangeTheme() {
      return Boolean(window.wc.darkLightEnabled);
    }
    function initThemeVariation() {
      if (!canChangeTheme()) {
        console.debug("User theming disabled.");
        return {
          isDarkTheme: window.wc.isSiteThemeDark,
          themeMode: window.wc.isSiteThemeDark ? 1 : 0
        };
      }
      console.debug("User theming enabled.");
      let isDarkTheme;
      let currentThemeMode = getThemeMode();
      console.debug(`User's theme variation: ${currentThemeMode}`);
      switch (currentThemeMode) {
        case 0:
          isDarkTheme = false;
          break;
        case 1:
          isDarkTheme = true;
          break;
        default:
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          break;
      }
      if (isDarkTheme && !body.classList.contains("dark")) {
        console.debug("Applying Wowchemy dark theme");
        document.body.classList.add("dark");
      } else if (!isDarkTheme && body.classList.contains("dark")) {
        console.debug("Applying Wowchemy light theme");
        document.body.classList.remove("dark");
      }
      return {
        isDarkTheme,
        themeMode: currentThemeMode
      };
    }
    function changeThemeModeClick(newMode) {
      if (!canChangeTheme()) {
        console.debug("Cannot change theme - user theming disabled.");
        return;
      }
      let isDarkTheme;
      switch (newMode) {
        case 0:
          localStorage.setItem("wcTheme", "0");
          isDarkTheme = false;
          console.debug("User changed theme variation to Light.");
          break;
        case 1:
          localStorage.setItem("wcTheme", "1");
          isDarkTheme = true;
          console.debug("User changed theme variation to Dark.");
          break;
        default:
          localStorage.setItem("wcTheme", "2");
          if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
            isDarkTheme = true;
          } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
            isDarkTheme = false;
          } else {
            isDarkTheme = window.wc.isSiteThemeDark;
          }
          console.debug("User changed theme variation to Auto.");
          break;
      }
      renderThemeVariation(isDarkTheme, newMode);
    }
    function showActiveTheme(mode) {
      let linkLight2 = document.querySelector(".js-set-theme-light");
      let linkDark2 = document.querySelector(".js-set-theme-dark");
      let linkAuto2 = document.querySelector(".js-set-theme-auto");
      if (linkLight2 === null) {
        return;
      }
      switch (mode) {
        case 0:
          linkLight2.classList.add("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        case 1:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.add("dropdown-item-active");
          linkAuto2.classList.remove("dropdown-item-active");
          break;
        default:
          linkLight2.classList.remove("dropdown-item-active");
          linkDark2.classList.remove("dropdown-item-active");
          linkAuto2.classList.add("dropdown-item-active");
          break;
      }
    }
    function renderThemeVariation(isDarkTheme, themeMode = 2, init = false) {
      const codeHlLight = document.querySelector("link[title=hl-light]");
      const codeHlDark = document.querySelector("link[title=hl-dark]");
      const codeHlEnabled = codeHlLight !== null || codeHlDark !== null;
      const diagramEnabled = document.querySelector("script[title=mermaid]") !== null;
      showActiveTheme(themeMode);
      const themeChangeEvent = new CustomEvent("wcThemeChange", {detail: {isDarkTheme: () => isDarkTheme}});
      document.dispatchEvent(themeChangeEvent);
      if (!init) {
        if (isDarkTheme === false && !body.classList.contains("dark") || isDarkTheme === true && body.classList.contains("dark")) {
          return;
        }
      }
      if (isDarkTheme === false) {
        if (!init) {
          Object.assign(document.body.style, {opacity: 0, visibility: "visible"});
          fadeIn(document.body, 600);
        }
        body.classList.remove("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to light");
          if (codeHlLight) {
            codeHlLight.disabled = false;
          }
          if (codeHlDark) {
            codeHlDark.disabled = true;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with light theme");
          if (init) {
            window.mermaid.initialize({startOnLoad: false, theme: "default", securityLevel: "loose"});
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      } else if (isDarkTheme === true) {
        if (!init) {
          Object.assign(document.body.style, {opacity: 0, visibility: "visible"});
          fadeIn(document.body, 600);
        }
        body.classList.add("dark");
        if (codeHlEnabled) {
          console.debug("Setting HLJS theme to dark");
          if (codeHlLight) {
            codeHlLight.disabled = true;
          }
          if (codeHlDark) {
            codeHlDark.disabled = false;
          }
        }
        if (diagramEnabled) {
          console.debug("Initializing Mermaid with dark theme");
          if (init) {
            window.mermaid.initialize({startOnLoad: false, theme: "dark", securityLevel: "loose"});
            fixMermaid(true);
          } else {
            location.reload();
          }
        }
      }
    }
    function onMediaQueryListEvent(event) {
      if (!canChangeTheme()) {
        return;
      }
      const darkModeOn = event.matches;
      console.debug(`OS dark mode preference changed to ${darkModeOn ? "\u{1F312} on" : "\u2600\uFE0F off"}.`);
      let currentThemeVariation = getThemeMode();
      let isDarkTheme;
      if (currentThemeVariation === 2) {
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          isDarkTheme = true;
        } else if (window.matchMedia("(prefers-color-scheme: light)").matches) {
          isDarkTheme = false;
        } else {
          isDarkTheme = window.wc.isSiteThemeDark;
        }
        renderThemeVariation(isDarkTheme, currentThemeVariation);
      }
    }
    console.debug(`Environment: ${hugoEnvironment}`);
    function getNavBarHeight() {
      let navbar = document.getElementById("navbar-main");
      let navbarHeight = navbar ? navbar.getBoundingClientRect().height : 0;
      console.debug("Navbar height: " + navbarHeight);
      return navbarHeight;
    }
    function scrollToAnchor(target, duration = 0) {
      target = typeof target === "undefined" || typeof target === "object" ? decodeURIComponent(window.location.hash) : target;
      if ($(target).length) {
        target = "#" + $.escapeSelector(target.substring(1));
        let elementOffset = Math.ceil($(target).offset().top - getNavBarHeight());
        $("body").addClass("scrolling");
        $("html, body").animate({
          scrollTop: elementOffset
        }, duration, function() {
          $("body").removeClass("scrolling");
        });
      } else {
        console.debug("Cannot scroll to target `#" + target + "`. ID not found!");
      }
    }
    function fixScrollspy() {
      let $body = $("body");
      let data = $body.data("bs.scrollspy");
      if (data) {
        data._config.offset = getNavBarHeight();
        $body.data("bs.scrollspy", data);
        $body.scrollspy("refresh");
      }
    }
    function removeQueryParamsFromUrl() {
      if (window.history.replaceState) {
        let urlWithoutSearchParams = window.location.protocol + "//" + window.location.host + window.location.pathname + window.location.hash;
        window.history.replaceState({path: urlWithoutSearchParams}, "", urlWithoutSearchParams);
      }
    }
    window.addEventListener("hashchange", scrollToAnchor);
    $("#navbar-main li.nav-item a.nav-link, .js-scroll").on("click", function(event) {
      let hash = this.hash;
      if (this.pathname === window.location.pathname && hash && $(hash).length && $(".js-widget-page").length > 0) {
        event.preventDefault();
        let elementOffset = Math.ceil($(hash).offset().top - getNavBarHeight());
        $("html, body").animate({
          scrollTop: elementOffset
        }, 800);
      }
    });
    $(document).on("click", ".navbar-collapse.show", function(e) {
      let targetElement = $(e.target).is("a") ? $(e.target) : $(e.target).parent();
      if (targetElement.is("a") && targetElement.attr("class") != "dropdown-toggle") {
        $(this).collapse("hide");
      }
    });
    var pubFilters = {};
    var searchRegex;
    var filterValues;
    var $grid_pubs = $("#container-publications");
    if ($grid_pubs.length) {
      $grid_pubs.isotope({
        itemSelector: ".isotope-item",
        percentPosition: true,
        masonry: {
          columnWidth: ".grid-sizer"
        },
        filter: function() {
          let $this = $(this);
          let searchResults = searchRegex ? $this.text().match(searchRegex) : true;
          let filterResults = filterValues ? $this.is(filterValues) : true;
          return searchResults && filterResults;
        }
      });
      let $quickSearch = $(".filter-search").keyup(debounce(function() {
        searchRegex = new RegExp($quickSearch.val(), "gi");
        $grid_pubs.isotope();
      }));
      $(".pub-filters").on("change", function() {
        let $this = $(this);
        let filterGroup = $this[0].getAttribute("data-filter-group");
        pubFilters[filterGroup] = this.value;
        filterValues = concatValues(pubFilters);
        $grid_pubs.isotope();
        if (filterGroup === "pubtype") {
          let url = $(this).val();
          if (url.substr(0, 9) === ".pubtype-") {
            window.location.hash = url.substr(9);
          } else {
            window.location.hash = "";
          }
        }
      });
    }
    function debounce(fn, threshold) {
      let timeout;
      threshold = threshold || 100;
      return function debounced() {
        clearTimeout(timeout);
        let args = arguments;
        let _this = this;
        function delayed() {
          fn.apply(_this, args);
        }
        timeout = setTimeout(delayed, threshold);
      };
    }
    function concatValues(obj) {
      let value = "";
      for (let prop in obj) {
        value += obj[prop];
      }
      return value;
    }
    function filter_publications() {
      if (!$grid_pubs.length)
        return;
      let urlHash = window.location.hash.replace("#", "");
      let filterValue = "*";
      if (urlHash != "" && !isNaN(urlHash)) {
        filterValue = ".pubtype-" + urlHash;
      }
      let filterGroup = "pubtype";
      pubFilters[filterGroup] = filterValue;
      filterValues = concatValues(pubFilters);
      $grid_pubs.isotope();
      $(".pubtype-select").val(filterValue);
    }
    function initMap() {
      if ($("#map").length) {
        let map_provider = $("#map-provider").val();
        let lat = $("#map-lat").val();
        let lng = $("#map-lng").val();
        let zoom = parseInt($("#map-zoom").val());
        let address = $("#map-dir").val();
        let api_key = $("#map-api-key").val();
        if (map_provider === "google") {
          let map = new GMaps({
            div: "#map",
            lat,
            lng,
            zoom,
            zoomControl: true,
            zoomControlOpt: {
              style: "SMALL",
              position: "TOP_LEFT"
            },
            streetViewControl: false,
            mapTypeControl: false,
            gestureHandling: "cooperative"
          });
          map.addMarker({
            lat,
            lng,
            click: function() {
              let url = "https://www.google.com/maps/place/" + encodeURIComponent(address) + "/@" + lat + "," + lng + "/";
              window.open(url, "_blank");
            },
            title: address
          });
        } else {
          let map = new L.map("map").setView([lat, lng], zoom);
          if (map_provider === "mapbox" && api_key.length) {
            L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
              attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xA9 <a href="http://mapbox.com">Mapbox</a>',
              tileSize: 512,
              maxZoom: 18,
              zoomOffset: -1,
              id: "mapbox/streets-v11",
              accessToken: api_key
            }).addTo(map);
          } else {
            L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
              maxZoom: 19,
              attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(map);
          }
          let marker = L.marker([lat, lng]).addTo(map);
          let url = lat + "," + lng + "#map=" + zoom + "/" + lat + "/" + lng + "&layers=N";
          marker.bindPopup(address + '<p><a href="https://www.openstreetmap.org/directions?engine=osrm_car&route=' + url + '">Routing via OpenStreetMap</a></p>');
        }
      }
    }
    function printLatestRelease(selector, repo) {
      if (hugoEnvironment === "production") {
        $.getJSON("https://api.github.com/repos/" + repo + "/tags").done(function(json) {
          let release = json[0];
          $(selector).append(" " + release.name);
        }).fail(function(jqxhr, textStatus, error) {
          let err = textStatus + ", " + error;
          console.log("Request Failed: " + err);
        });
      }
    }
    function toggleSearchDialog() {
      if ($("body").hasClass("searching")) {
        $("[id=search-query]").blur();
        $("body").removeClass("searching compensate-for-scrollbar");
        removeQueryParamsFromUrl();
        $("#fancybox-style-noscroll").remove();
      } else {
        if (!$("#fancybox-style-noscroll").length && document.body.scrollHeight > window.innerHeight) {
          $("head").append('<style id="fancybox-style-noscroll">.compensate-for-scrollbar{margin-right:' + (window.innerWidth - document.documentElement.clientWidth) + "px;}</style>");
          $("body").addClass("compensate-for-scrollbar");
        }
        $("body").addClass("searching");
        $(".search-results").css({opacity: 0, visibility: "visible"}).animate({opacity: 1}, 200);
        $("#search-query").focus();
      }
    }
    function normalizeCarouselSlideHeights() {
      $(".carousel").each(function() {
        let items = $(".carousel-item", this);
        items.css("min-height", 0);
        let maxHeight = Math.max.apply(null, items.map(function() {
          return $(this).outerHeight();
        }).get());
        items.css("min-height", maxHeight + "px");
      });
    }
    function fixHugoOutput() {
      $("#TableOfContents").addClass("nav flex-column");
      $("#TableOfContents li").addClass("nav-item");
      $("#TableOfContents li a").addClass("nav-link");
      $("input[type='checkbox'][disabled]").parents("ul").addClass("task-list");
    }
    function getSiblings(elem) {
      return Array.prototype.filter.call(elem.parentNode.children, function(sibling) {
        return sibling !== elem;
      });
    }
    $(document).ready(function() {
      fixHugoOutput();
      let {isDarkTheme, themeMode} = initThemeVariation();
      renderThemeVariation(isDarkTheme, themeMode, true);
      if (codeHighlighting) {
        hljs.initHighlighting();
      }
      let child = document.querySelector(".docs-links .active");
      let parent = document.querySelector(".docs-links");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
    });
    $(window).on("load", function() {
      fixScrollspy();
      let isotopeInstances = document.querySelectorAll(".projects-container");
      let isotopeInstancesCount = isotopeInstances.length;
      if (window.location.hash && isotopeInstancesCount === 0) {
        scrollToAnchor(decodeURIComponent(window.location.hash), 0);
      }
      let child = document.querySelector(".docs-toc .nav-link.active");
      let parent = document.querySelector(".docs-toc");
      if (child && parent) {
        scrollParentToChild(parent, child);
      }
      let zoomOptions = {};
      if (document.body.classList.contains("dark")) {
        zoomOptions.background = "rgba(0,0,0,0.9)";
      } else {
        zoomOptions.background = "rgba(255,255,255,0.9)";
      }
      medium_zoom_esm_default("[data-zoomable]", zoomOptions);
      let isotopeCounter = 0;
      isotopeInstances.forEach(function(isotopeInstance, index) {
        console.debug(`Loading Isotope instance ${index}`);
        let iso;
        let isoSection = isotopeInstance.closest("section");
        let layout = "";
        if (isoSection.querySelector(".isotope").classList.contains("js-layout-row")) {
          layout = "fitRows";
        } else {
          layout = "masonry";
        }
        let defaultFilter = isoSection.querySelector(".default-project-filter");
        let filterText = "*";
        if (defaultFilter !== null) {
          filterText = defaultFilter.textContent;
        }
        console.debug(`Default Isotope filter: ${filterText}`);
        imagesLoaded(isotopeInstance, function() {
          iso = new Isotope(isotopeInstance, {
            itemSelector: ".isotope-item",
            layoutMode: layout,
            masonry: {
              gutter: 20
            },
            filter: filterText
          });
          let isoFilterButtons = isoSection.querySelectorAll(".project-filters a");
          isoFilterButtons.forEach((button) => button.addEventListener("click", (e) => {
            e.preventDefault();
            let selector = button.getAttribute("data-filter");
            console.debug(`Updating Isotope filter to ${selector}`);
            iso.arrange({filter: selector});
            button.classList.remove("active");
            button.classList.add("active");
            let buttonSiblings = getSiblings(button);
            buttonSiblings.forEach((buttonSibling) => {
              buttonSibling.classList.remove("active");
              buttonSibling.classList.remove("all");
            });
          }));
          incrementIsotopeCounter();
        });
      });
      function incrementIsotopeCounter() {
        isotopeCounter++;
        if (isotopeCounter === isotopeInstancesCount) {
          console.debug(`All Portfolio Isotope instances loaded.`);
          if (window.location.hash) {
            scrollToAnchor(decodeURIComponent(window.location.hash), 0);
          }
        }
      }
      if ($(".pub-filters-select")) {
        filter_publications();
      }
      $(".js-cite-modal").click(function(e) {
        e.preventDefault();
        let filename = $(this).attr("data-filename");
        let modal = $("#modal");
        modal.find(".modal-body code").load(filename, function(response, status, xhr) {
          if (status == "error") {
            let msg = "Error: ";
            $("#modal-error").html(msg + xhr.status + " " + xhr.statusText);
          } else {
            $(".js-download-cite").attr("href", filename);
          }
        });
        modal.modal("show");
      });
      $(".js-copy-cite").click(function(e) {
        e.preventDefault();
        let range = document.createRange();
        let code_node = document.querySelector("#modal .modal-body");
        range.selectNode(code_node);
        window.getSelection().addRange(range);
        try {
          document.execCommand("copy");
        } catch (e2) {
          console.log("Error: citation copy failed.");
        }
        window.getSelection().removeRange(range);
      });
      initMap();
      let githubReleaseSelector = ".js-github-release";
      if ($(githubReleaseSelector).length > 0) {
        printLatestRelease(githubReleaseSelector, $(githubReleaseSelector).data("repo"));
      }
      document.addEventListener("keyup", (event) => {
        if (event.code === "Escape") {
          const body2 = document.body;
          if (body2.classList.contains("searching")) {
            toggleSearchDialog();
          }
        }
        if (event.key === "/") {
          let focusedElement = document.hasFocus() && document.activeElement !== document.body && document.activeElement !== document.documentElement && document.activeElement || null;
          let isInputFocused = focusedElement instanceof HTMLInputElement || focusedElement instanceof HTMLTextAreaElement;
          if (searchEnabled && !isInputFocused) {
            event.preventDefault();
            toggleSearchDialog();
          }
        }
      });
      if (searchEnabled) {
        $(".js-search").click(function(e) {
          e.preventDefault();
          toggleSearchDialog();
        });
      }
      $('[data-toggle="tooltip"]').tooltip();
    });
    var linkLight = document.querySelector(".js-set-theme-light");
    var linkDark = document.querySelector(".js-set-theme-dark");
    var linkAuto = document.querySelector(".js-set-theme-auto");
    if (linkLight && linkDark && linkAuto) {
      linkLight.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(0);
      });
      linkDark.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(1);
      });
      linkAuto.addEventListener("click", (event) => {
        event.preventDefault();
        changeThemeModeClick(2);
      });
    }
    var darkModeMediaQuery = window.matchMedia("(prefers-color-scheme: dark)");
    darkModeMediaQuery.addEventListener("change", (event) => {
      onMediaQueryListEvent(event);
    });
    window.addEventListener("load", normalizeCarouselSlideHeights);
    window.addEventListener("resize", normalizeCarouselSlideHeights);
    window.addEventListener("orientationchange", normalizeCarouselSlideHeights);
    $("body").on("mouseenter mouseleave", ".dropdown", function(e) {
      var dropdown = $(e.target).closest(".dropdown");
      var menu = $(".dropdown-menu", dropdown);
      dropdown.addClass("show");
      menu.addClass("show");
      setTimeout(function() {
        dropdown[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
        menu[dropdown.is(":hover") ? "addClass" : "removeClass"]("show");
      }, 300);
    });
    var resizeTimer;
    $(window).resize(function() {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(fixScrollspy, 200);
    });
  })();
  (() => {
    var content_type = {authors: "Authors", event: "Events", post: "Posts", project: "Projects", publication: "Publications", slides: "Slides"};
    var i18n = {no_results: "No results found", placeholder: "Search...", results: "results found"};
    var search_config = {indexURI: "/index.json", minLength: 1, threshold: 0.3};
    var fuseOptions = {
      shouldSort: true,
      includeMatches: true,
      tokenize: true,
      threshold: search_config.threshold,
      location: 0,
      distance: 100,
      maxPatternLength: 32,
      minMatchCharLength: search_config.minLength,
      keys: [
        {name: "title", weight: 0.99},
        {name: "summary", weight: 0.6},
        {name: "authors", weight: 0.5},
        {name: "content", weight: 0.2},
        {name: "tags", weight: 0.5},
        {name: "categories", weight: 0.5}
      ]
    };
    var summaryLength = 60;
    function getSearchQuery(name) {
      return decodeURIComponent((location.search.split(name + "=")[1] || "").split("&")[0]).replace(/\+/g, " ");
    }
    function updateURL(url) {
      if (history.replaceState) {
        window.history.replaceState({path: url}, "", url);
      }
    }
    function initSearch(force, fuse) {
      let query = $("#search-query").val();
      if (query.length < 1) {
        $("#search-hits").empty();
        $("#search-common-queries").show();
      }
      if (!force && query.length < fuseOptions.minMatchCharLength)
        return;
      $("#search-hits").empty();
      $("#search-common-queries").hide();
      searchAcademic(query, fuse);
      let newURL = window.location.protocol + "//" + window.location.host + window.location.pathname + "?q=" + encodeURIComponent(query) + window.location.hash;
      updateURL(newURL);
    }
    function searchAcademic(query, fuse) {
      let results = fuse.search(query);
      if (results.length > 0) {
        $("#search-hits").append('<h3 class="mt-0">' + results.length + " " + i18n.results + "</h3>");
        parseResults(query, results);
      } else {
        $("#search-hits").append('<div class="search-no-results">' + i18n.no_results + "</div>");
      }
    }
    function parseResults(query, results) {
      $.each(results, function(key, value) {
        let content_key = value.item.section;
        let content = "";
        let snippet = "";
        let snippetHighlights = [];
        if (["publication", "event"].includes(content_key)) {
          content = value.item.summary;
        } else {
          content = value.item.content;
        }
        if (fuseOptions.tokenize) {
          snippetHighlights.push(query);
        } else {
          $.each(value.matches, function(matchKey, matchValue) {
            if (matchValue.key == "content") {
              let start = matchValue.indices[0][0] - summaryLength > 0 ? matchValue.indices[0][0] - summaryLength : 0;
              let end = matchValue.indices[0][1] + summaryLength < content.length ? matchValue.indices[0][1] + summaryLength : content.length;
              snippet += content.substring(start, end);
              snippetHighlights.push(matchValue.value.substring(matchValue.indices[0][0], matchValue.indices[0][1] - matchValue.indices[0][0] + 1));
            }
          });
        }
        if (snippet.length < 1) {
          snippet += value.item.summary;
        }
        let template = $("#search-hit-fuse-template").html();
        if (content_key in content_type) {
          content_key = content_type[content_key];
        }
        let templateData = {
          key,
          title: value.item.title,
          type: content_key,
          relpermalink: value.item.relpermalink,
          snippet
        };
        let output = render(template, templateData);
        $("#search-hits").append(output);
        $.each(snippetHighlights, function(hlKey, hlValue) {
          $("#summary-" + key).mark(hlValue);
        });
      });
    }
    function render(template, data) {
      let key, find, re;
      for (key in data) {
        find = "\\{\\{\\s*" + key + "\\s*\\}\\}";
        re = new RegExp(find, "g");
        template = template.replace(re, data[key]);
      }
      return template;
    }
    if (typeof Fuse === "function") {
      $.getJSON(search_config.indexURI, function(search_index) {
        let fuse = new Fuse(search_index, fuseOptions);
        let query = getSearchQuery("q");
        if (query) {
          $("body").addClass("searching");
          $(".search-results").css({opacity: 0, visibility: "visible"}).animate({opacity: 1}, 200);
          $("#search-query").val(query);
          $("#search-query").focus();
          initSearch(true, fuse);
        }
        $("#search-query").keyup(function(e) {
          clearTimeout($.data(this, "searchTimer"));
          if (e.keyCode == 13) {
            initSearch(true, fuse);
          } else {
            $(this).data("searchTimer", setTimeout(function() {
              initSearch(false, fuse);
            }, 250));
          }
        });
      });
    }
  })();
  function BubblePiece(opts) {
    Piece.call(this, opts);
    var defaults = {
      x: 0,
      y: 0,
      scale: 1,
      img: null,
      img_width: 0,
      img_height: 0,
      jitter_factor: 1,
      jitter_radius: 10,
      jitter_speed: 1e3
    };
    var _opts = $.extend({}, defaults, opts);
    this.point = new Point(_opts.x, _opts.y);
    this.presentationPoint = new Point(_opts.x, _opts.y);
    this.scale = _opts.scale;
    this.img = _opts.img;
    this.img_width = _opts.img_width;
    this.img_height = _opts.img_height;
    this.jitter_factor = _opts.jitter_factor;
    this.jitter_radius = _opts.jitter_radius;
    this.jitter_speed = _opts.jitter_speed;
  }
  BubblePiece.prototype = new Piece();
  BubblePiece.prototype.constructor = BubblePiece;
  BubblePiece.prototype.draw = function(canvas2) {
    var self = this;
    self.update();
    var point = self.jitter(self.presentationPoint);
    var ctx = canvas2.getContext("2d");
    var scaled_width = self.scale * self.img_width;
    var scaled_height = self.scale * self.img_height;
    ctx.drawImage(self.img[0], point.x - scaled_width / 2, point.y - scaled_height / 2, scaled_width, scaled_height);
  };
  BubblePiece.prototype.jitter = function(source) {
    var self = this;
    var point = new Point(source.x, source.y);
    var speed = self.jitter_speed;
    var now = new Date().getTime();
    var rem = now % speed;
    var phase = rem / speed;
    var angle = phase * (2 * Math.PI);
    var radius = self.jitter_radius * self.jitter_factor;
    point.x = point.x + radius * Math.cos(angle);
    point.y = point.y + radius * Math.sin(angle);
    return point;
  };
  function CirclePiece(opts) {
    Piece.call(this, opts);
    var defaults = {
      x: 0,
      y: 0,
      radius: 5,
      fillStyle: "rgba(0,0,0,1)",
      jitter_factor: 1,
      jitter_radius: 10,
      jitter_speed: 1e3
    };
    var _opts = $.extend({}, defaults, opts);
    this.point = new Point(_opts.x, _opts.y);
    this.presentationPoint = new Point(_opts.x, _opts.y);
    this.radius = _opts.radius;
    this.fillStyle = _opts.fillStyle;
    this.jitter_factor = _opts.jitter_factor;
    this.jitter_radius = _opts.jitter_radius;
    this.jitter_speed = _opts.jitter_speed;
  }
  CirclePiece.prototype = new Piece();
  CirclePiece.prototype.constructor = CirclePiece;
  CirclePiece.prototype.draw = function(canvas2) {
    var self = this;
    self.update();
    var point = self.jitter(self.presentationPoint);
    var ctx = canvas2.getContext("2d");
    ctx.beginPath();
    ctx.arc(point.x, point.y, self.radius, 0, 2 * Math.PI, false);
    ctx.fillStyle = self.fillStyle;
    ctx.fill();
  };
  CirclePiece.prototype.jitter = function(source) {
    var self = this;
    var point = new Point(source.x, source.y);
    var speed = self.jitter_speed;
    var now = new Date().getTime();
    var rem = now % speed;
    var phase = rem / speed;
    var angle = phase * (2 * Math.PI);
    var radius = self.jitter_radius * self.jitter_factor;
    point.x = point.x + radius * Math.cos(angle);
    point.y = point.y + radius * Math.sin(angle);
    return point;
  };
  var Helpers = {
    Random: {
      getRandomInt: function(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
      },
      getRandomIntInclusive: function(min, max) {
        return Helpers.Random.getRandomInt(min, max + 1);
      },
      getRandomIndex: function(source_array) {
        var min = 0;
        var max = source_array.length;
        var index = Helpers.Random.getRandomInt(0, max);
        return index;
      }
    },
    Easing: {
      linear: function(t, b, c, d) {
        return c * t / d + b;
      },
      easeInOutQuad: function(t, b, c, d) {
        t /= d / 2;
        if (t < 1)
          return c / 2 * t * t + b;
        t--;
        return -c / 2 * (t * (t - 2) - 1) + b;
      },
      easeOutQuad: function(t, b, c, d) {
        t /= d;
        return -c * t * (t - 2) + b;
      },
      easeInQuad: function(t, b, c, d) {
        t /= d;
        return c * t * t + b;
      }
    }
  };
  function Point(x, y) {
    this.x = x;
    this.y = y;
  }
  var canvas;
  var canvas_dom;
  var shapes;
  var piece_collection;
  var renderer;
  var current_shape = "blankcanvas";
  var imgNames = ["emerge", "systemThinking", "process", "dynamics", "teams", "learning", "decisions"];
  $(function() {
    if ($("section").is("#swarm-banner")) {
      let imgLoop2 = function() {
        var shape_name = imgNames[imgCntr];
        var shape = shapes.get(shape_name);
        if (shape) {
          current_shape = shape_name;
          makeShape(shape);
        }
        imgCntr++;
        if (imgCntr >= imgNames.length) {
          imgCntr = 0;
        }
      };
      var imgLoop = imgLoop2;
      canvas_dom = $("#canvas");
      canvas = canvas_dom[0];
      var window_width = $("#swarm-banner .container").width();
      var window_height = $("#swarm-banner").height();
      canvas.width = window_width * 2;
      canvas.height = window_height * 2;
      canvas_dom.css({
        width: window_width,
        height: window_height
      });
      initShapes();
      initParticles();
      $(window).resize(function() {
        clearTimeout(this.timer);
        this.timer = setTimeout(function() {
          renderer.stop();
          var window_width2 = $("#swarm-banner .container").width();
          var window_height2 = $("#swarm-banner").height();
          canvas.width = window_width2 * 2;
          canvas.height = window_height2 * 2;
          canvas_dom.css({
            width: window_width2,
            height: window_height2
          });
          recenterShapes();
          makeShape(shapes.get(current_shape));
          renderer.start();
        }, 250);
      });
      var imgCntr = 0;
      setInterval(imgLoop2, 5e3);
    }
  });
  function initShapes() {
    shapes = new ShapesCollection();
    shapes.add("blankcanvas", new Shape({
      width: canvas.width + 400,
      height: canvas.height + 400,
      offset: {
        x: -200,
        y: -200
      },
      spread: 5
    }));
    var process_img = $("img#process");
    shapes.add("process", new Shape({
      src: process_img.attr("src"),
      width: process_img.attr("width") * 1,
      height: process_img.attr("height") * 1,
      offset: {
        x: (canvas.width - process_img.attr("width") * 1) * 0.5,
        y: (canvas.height - process_img.attr("height") * 1) * 0.5
      },
      spread: 9,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var emerge_img = $("img#emerge");
    shapes.add("emerge", new Shape({
      src: emerge_img.attr("src"),
      width: emerge_img.attr("width") * 1,
      height: emerge_img.attr("height") * 1,
      offset: {
        x: (canvas.width - emerge_img.attr("width") * 1) * 0.5,
        y: (canvas.height - emerge_img.attr("height") * 1) * 0.5
      },
      spread: 8,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var systemThinking_img = $("img#systemThinking");
    shapes.add("systemThinking", new Shape({
      src: systemThinking_img.attr("src"),
      width: systemThinking_img.attr("width") * 1,
      height: systemThinking_img.attr("height") * 1,
      offset: {
        x: (canvas.width - systemThinking_img.attr("width") * 1) * 0.5,
        y: (canvas.height - systemThinking_img.attr("height") * 1) * 0.5
      },
      spread: 10,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var dynamics_img = $("img#dynamics");
    shapes.add("dynamics", new Shape({
      src: dynamics_img.attr("src"),
      width: dynamics_img.attr("width") * 1,
      height: dynamics_img.attr("height") * 1,
      offset: {
        x: (canvas.width - dynamics_img.attr("width") * 1) * 0.5,
        y: (canvas.height - dynamics_img.attr("height") * 1) * 0.5
      },
      spread: 10,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var teams_img = $("img#teams");
    shapes.add("teams", new Shape({
      src: teams_img.attr("src"),
      width: teams_img.attr("width") * 1,
      height: teams_img.attr("height") * 1,
      offset: {
        x: (canvas.width - teams_img.attr("width") * 1) * 0.5,
        y: (canvas.height - teams_img.attr("height") * 1) * 0.5
      },
      spread: 10,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var decisions_img = $("img#decisions");
    shapes.add("decisions", new Shape({
      src: decisions_img.attr("src"),
      width: decisions_img.attr("width") * 1,
      height: decisions_img.attr("height") * 1,
      offset: {
        x: (canvas.width - decisions_img.attr("width") * 1) * 0.5,
        y: (canvas.height - decisions_img.attr("height") * 1) * 0.5
      },
      spread: 10,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
    var learning_img = $("img#learning");
    shapes.add("learning", new Shape({
      src: learning_img.attr("src"),
      width: learning_img.attr("width") * 1,
      height: learning_img.attr("height") * 1,
      offset: {
        x: (canvas.width - learning_img.attr("width") * 1) * 0.5,
        y: (canvas.height - learning_img.attr("height") * 1) * 0.5
      },
      spread: 10,
      loaded: function(shape) {
        if (shapes.loaded()) {
          renderer.start();
        }
      }
    }));
  }
  function recenterShapes() {
    for (var shape_key in shapes.shapes) {
      var img = $("img#" + shape_key);
      if (img.length == 0) {
        continue;
      }
      var shape = shapes.get(shape_key);
      shape.opts.offset.x = (canvas.width - img.attr("width")) / 2;
      shape.opts.offset.y = (canvas.height - img.attr("height")) / 2;
      shape.process();
    }
    var blankcanvas = shapes.get("blankcanvas");
    blankcanvas.opts.width = canvas.width + 400;
    blankcanvas.opts.height = canvas.height + 400;
    blankcanvas.process();
  }
  function initParticles() {
    piece_collection = new PiecesCollection();
    var particle_img = $("img#particle");
    var spots = shapes.get("blankcanvas").getVisiblePixels();
    for (var i = 0; i < 1e3; i++) {
      var random_index = Helpers.Random.getRandomIndex(spots);
      var point = spots.splice(random_index, 1)[0];
      piece_collection.add(new CirclePiece({
        x: point.x,
        y: point.y,
        radius: 5,
        fillStyle: "rgba(24,188,156,1)",
        jitter_radius: Helpers.Random.getRandomIntInclusive(10, 15),
        jitter_speed: Helpers.Random.getRandomIntInclusive(1e3, 1200)
      }));
    }
    renderer = new Renderer({
      canvas,
      draw: function(r) {
        for (var i2 = 0; i2 < piece_collection.pieces.length; i2++) {
          var piece = piece_collection.pieces[i2];
          piece.draw(r.canvas);
        }
      }
    });
    renderer.start();
  }
  function makeShape(shape) {
    var blankcanvas = shapes.get("blankcanvas");
    toShape(blankcanvas, {
      easing: "easeOutQuad",
      speed: 1e3
    });
    toShape(shape, {
      easing: "easeInOutQuad",
      speed: 1e3,
      additive: true
    });
  }
  function toShape(shape, opts) {
    var defaults = {
      easing: "easeOutQuad",
      speed: 2e3,
      additive: false,
      random: false,
      range: 0,
      repeat: false
    };
    var _opts = $.extend({}, defaults, opts);
    var spots = shape.getVisiblePixels();
    for (var i = 0; i < piece_collection.pieces.length; i++) {
      var piece = piece_collection.pieces[i];
      if (current_shape == "blankcanvas") {
        piece.jitter_radius = Helpers.Random.getRandomIntInclusive(10, 15);
        piece.jitter_speed = Helpers.Random.getRandomIntInclusive(1e3, 1200);
      } else {
        piece.jitter_radius = Helpers.Random.getRandomIntInclusive(1, 2);
        piece.jitter_speed = Helpers.Random.getRandomIntInclusive(800, 1e3);
      }
      if (spots.length > 0) {
        var random_index = Helpers.Random.getRandomIndex(spots);
        var point = spots.splice(random_index, 1)[0];
      } else {
        var x = Helpers.Random.getRandomIntInclusive(0, canvas.width - 1);
        var y = Helpers.Random.getRandomIntInclusive(0, canvas.height - 1);
        var point = new Point(x, y);
      }
      var speed = _opts.speed;
      if (_opts.random && _opts.range > 0) {
        speed = _opts.speed - Math.round(_opts.range / 2) + Helpers.Random.getRandomIntInclusive(0, _opts.range);
      }
      var tween = new Tween({
        from: piece.presentationPoint,
        to: new Point(point.x, point.y),
        easing: _opts.easing,
        duration: speed,
        repeat: _opts.repeat
      });
      if (!_opts.additive) {
        piece.clearTweens();
      }
      piece.addTween(tween);
    }
  }
  function PiecesCollection() {
    this.pieces = [];
    this.add = function(piece) {
      this.pieces.push(piece);
    };
  }
  PiecesCollection.prototype.setJitterFactor = function(jitter_factor) {
    for (var i = 0; i < this.pieces.length; i++) {
      var piece = this.pieces[i];
      piece.jitter_factor = jitter_factor;
    }
  };
  function Piece(opts) {
    var defaults = {
      x: 0,
      y: 0
    };
    var _opts = $.extend({}, defaults, opts);
    this.point = new Point(_opts.x, _opts.y);
    this.presentationPoint = new Point(_opts.x, _opts.y);
    this.tweens = [];
  }
  Piece.prototype.draw = function(canvas2) {
  };
  Piece.prototype.update = function() {
    var self = this;
    self.doTween();
  };
  Piece.prototype.doTween = function() {
    var self = this;
    var tween = null;
    for (var i = 0; i < self.tweens.length; i++) {
      var the_tween = self.tweens[i];
      if (the_tween.started) {
        tween = the_tween;
        break;
      }
    }
    if (!tween) {
      return;
    }
    var now = new Date().getTime();
    var delta = now - tween.started;
    if (delta >= tween.duration) {
      self.point.x = tween.to.x;
      self.point.y = tween.to.y;
      self.presentationPoint.x = tween.to.x;
      self.presentationPoint.y = tween.to.y;
      if (!tween.repeat) {
        self.tweens.splice(0, 1);
        if (self.tweens.length > 0) {
          var next_tween = self.tweens[0];
          next_tween.from = next_tween.original_from = new Point(this.presentationPoint.x, this.presentationPoint.y);
          next_tween.start();
        }
      } else {
        tween.reversing = !tween.reversing;
        if (tween.reversing) {
          tween.to = tween.original_from;
        } else {
          tween.to = tween.original_to;
        }
        tween.from = new Point(this.presentationPoint.x, this.presentationPoint.y);
        tween.start();
      }
    } else {
      var range_x = tween.to.x - tween.from.x;
      var range_y = tween.to.y - tween.from.y;
      var current_x = tween.easing(delta, tween.from.x, range_x, tween.duration);
      var current_y = tween.easing(delta, tween.from.y, range_y, tween.duration);
      self.presentationPoint.x = current_x;
      self.presentationPoint.y = current_y;
    }
  };
  Piece.prototype.jitter = function(point) {
    return point;
  };
  Piece.prototype.clearTweens = function() {
    var self = this;
    self.tweens = [];
    this.point = new Point(this.presentationPoint.x, this.presentationPoint.y);
    return self;
  };
  Piece.prototype.addTween = function(tween) {
    var self = this;
    self.tweens.push(tween);
    if (self.tweens.length == 1) {
      tween.from = tween.original_from = new Point(this.presentationPoint.x, this.presentationPoint.y);
      this.point = new Point(this.presentationPoint.x, this.presentationPoint.y);
      self.tweens[0].start();
    }
    return self;
  };
  function Renderer(opts) {
    var defaults = {
      canvas: null,
      draw: function() {
      }
    };
    var _opts = $.extend({}, defaults, opts);
    this.stopped = false;
    this.request_id = null;
    this.canvas = _opts.canvas;
    this.ctx = this.canvas.getContext("2d");
    this.draw_function = _opts.draw;
  }
  Renderer.prototype.stop = function() {
    var self = this;
    self.stopped = true;
    window.cancelAnimationFrame(self.request_id);
    self.request_id = null;
  };
  Renderer.prototype.start = function() {
    var self = this;
    self.stopped = false;
    self.loop();
  };
  Renderer.prototype.loop = function() {
    var self = this;
    if (self.stopped) {
      return;
    }
    self.clear();
    self.draw();
    self.queue();
  };
  Renderer.prototype.clear = function() {
    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
    return this;
  };
  Renderer.prototype.draw = function() {
    var self = this;
    self.draw_function(self);
    return self;
  };
  Renderer.prototype.queue = function() {
    var self = this;
    self.request_id = window.requestAnimationFrame(function() {
      self.loop.apply(self);
    });
  };
  function ShapesCollection() {
    this.shapes = {};
    this.add = function(key, shape) {
      this.shapes[key] = shape;
    };
    this.loaded = function() {
      var loaded = true;
      for (var key in this.shapes) {
        var shape = this.shapes[key];
        if (shape == null || shape.loaded == false) {
          loaded = false;
          break;
        }
      }
      return loaded;
    };
    this.get = function(key) {
      return this.shapes[key];
    };
  }
  function Shape(opts) {
    var self = this;
    this.loaded = false;
    var defaults = {
      src: "",
      width: 0,
      height: 0,
      offset: {
        x: 0,
        y: 0
      },
      spread: 1,
      loaded: function() {
      }
    };
    var _opts = $.extend({}, defaults, opts);
    this.opts = _opts;
    this.imageData = null;
    if (this.opts.src != "") {
      this.img = $("<img/>");
      this.img.bind("load", function() {
        self.loaded = true;
        self.process();
        self.opts.loaded(self);
      });
      this.img.attr("src", _opts.src);
    } else {
      self.process();
      self.loaded = true;
      self.opts.loaded(self);
    }
  }
  Shape.prototype.process = function() {
    var self = this;
    this.visiblePixels = [];
    var width = Math.round(self.opts.width / self.opts.spread);
    var height = Math.round(self.opts.height / self.opts.spread);
    if (this.img) {
      var canvas_dom2 = $('<canvas width="' + width + '" height="' + height + '">');
      var canvas2 = canvas_dom2[0];
      var ctx = canvas2.getContext("2d");
      ctx.drawImage(self.img[0], 0, 0, width, height);
      self.imageData = ctx.getImageData(0, 0, canvas2.width, canvas2.height);
      for (var y = 0; y < height; y++) {
        for (var x = 0; x < width; x++) {
          var alpha_index = y * width * 4 + x * 4 + 3;
          var alpha = self.imageData.data[alpha_index];
          if (alpha > 0) {
            self.visiblePixels.push(new Point(x * self.opts.spread + self.opts.offset.x, y * self.opts.spread + self.opts.offset.y));
          }
        }
      }
    } else {
      for (var x = 0; x < width; x++) {
        for (var y = 0; y < height; y++) {
          self.visiblePixels.push(new Point(x * self.opts.spread + this.opts.offset.x, y * self.opts.spread + this.opts.offset.y));
        }
      }
    }
  };
  Shape.prototype.getVisiblePixels = function() {
    return this.visiblePixels.slice(0);
  };
  function Tween(opts) {
    var defaults = {
      to: {
        x: 0,
        y: 0
      },
      easing: "linear",
      duration: 1e3,
      repeat: false
    };
    var _opts = $.extend({}, defaults, opts);
    this.started = null;
    this.duration = _opts.duration;
    this.repeat = _opts.repeat;
    this.reversing = false;
    this.original_from = {
      x: null,
      y: null
    };
    this.original_to = {
      x: _opts.to.x,
      y: _opts.to.y
    };
    this.to = _opts.to;
    this.start = function() {
      this.started = new Date().getTime();
    };
    if (_opts.easing in Helpers.Easing) {
      this.easing = Helpers.Easing[_opts.easing];
    } else {
      this.easing = Helpers.Easing.linear;
    }
  }
  Tween.prototype.setFrom = function(from) {
    this.from = from;
    this.original_from = from;
  };
  $("#zoom-modal").on("show.bs.modal", function(event) {
    var image = $(event.relatedTarget);
    var fullImage = image.data("full-image");
    var imageCaption = image.data("modal-caption");
    var modal = $(this);
    modal.find(".modal-body img").attr("src", fullImage);
    modal.find(".modal-body figcaption").text(imageCaption);
  });
})();
/*! medium-zoom 1.0.6 | MIT License | https://github.com/francoischalifour/medium-zoom */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiPHN0ZGluPiJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiKCgpID0+IHtcbiAgLy8gbnMtaHVnbzpDOlxcVXNlcnNcXGdyYW5kXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlcXHY1QHY1LjAuMC0yMDIxMDYyOTE5MjkwNC01NTk4ODVhZjg2YjdcXGFzc2V0c1xcanNcXF92ZW5kb3JcXG1lZGl1bS16b29tLmVzbS5qc1xuICB2YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcbiAgdmFyIGlzU3VwcG9ydGVkID0gZnVuY3Rpb24gaXNTdXBwb3J0ZWQyKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50YWdOYW1lID09PSBcIklNR1wiO1xuICB9O1xuICB2YXIgaXNOb2RlTGlzdCA9IGZ1bmN0aW9uIGlzTm9kZUxpc3QyKHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIE5vZGVMaXN0LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHNlbGVjdG9yKTtcbiAgfTtcbiAgdmFyIGlzTm9kZSA9IGZ1bmN0aW9uIGlzTm9kZTIoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gc2VsZWN0b3IgJiYgc2VsZWN0b3Iubm9kZVR5cGUgPT09IDE7XG4gIH07XG4gIHZhciBpc1N2ZyA9IGZ1bmN0aW9uIGlzU3ZnMihpbWFnZSkge1xuICAgIHZhciBzb3VyY2UgPSBpbWFnZS5jdXJyZW50U3JjIHx8IGltYWdlLnNyYztcbiAgICByZXR1cm4gc291cmNlLnN1YnN0cigtNCkudG9Mb3dlckNhc2UoKSA9PT0gXCIuc3ZnXCI7XG4gIH07XG4gIHZhciBnZXRJbWFnZXNGcm9tU2VsZWN0b3IgPSBmdW5jdGlvbiBnZXRJbWFnZXNGcm9tU2VsZWN0b3IyKHNlbGVjdG9yKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0b3IuZmlsdGVyKGlzU3VwcG9ydGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05vZGVMaXN0KHNlbGVjdG9yKSkge1xuICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChzZWxlY3RvcikuZmlsdGVyKGlzU3VwcG9ydGVkKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05vZGUoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBbc2VsZWN0b3JdLmZpbHRlcihpc1N1cHBvcnRlZCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBbXS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5maWx0ZXIoaXNTdXBwb3J0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlRoZSBwcm92aWRlZCBzZWxlY3RvciBpcyBpbnZhbGlkLlxcbkV4cGVjdHMgYSBDU1Mgc2VsZWN0b3IsIGEgTm9kZSBlbGVtZW50LCBhIE5vZGVMaXN0IG9yIGFuIGFycmF5LlxcblNlZTogaHR0cHM6Ly9naXRodWIuY29tL2ZyYW5jb2lzY2hhbGlmb3VyL21lZGl1bS16b29tXCIpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGNyZWF0ZU92ZXJsYXkgPSBmdW5jdGlvbiBjcmVhdGVPdmVybGF5MihiYWNrZ3JvdW5kKSB7XG4gICAgdmFyIG92ZXJsYXkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLW92ZXJsYXlcIik7XG4gICAgb3ZlcmxheS5zdHlsZS5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICByZXR1cm4gb3ZlcmxheTtcbiAgfTtcbiAgdmFyIGNsb25lVGFyZ2V0ID0gZnVuY3Rpb24gY2xvbmVUYXJnZXQyKHRlbXBsYXRlKSB7XG4gICAgdmFyIF90ZW1wbGF0ZSRnZXRCb3VuZGluZyA9IHRlbXBsYXRlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0b3AgPSBfdGVtcGxhdGUkZ2V0Qm91bmRpbmcudG9wLCBsZWZ0ID0gX3RlbXBsYXRlJGdldEJvdW5kaW5nLmxlZnQsIHdpZHRoID0gX3RlbXBsYXRlJGdldEJvdW5kaW5nLndpZHRoLCBoZWlnaHQgPSBfdGVtcGxhdGUkZ2V0Qm91bmRpbmcuaGVpZ2h0O1xuICAgIHZhciBjbG9uZSA9IHRlbXBsYXRlLmNsb25lTm9kZSgpO1xuICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwO1xuICAgIGNsb25lLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgIGNsb25lLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNsb25lLnN0eWxlLnRvcCA9IHRvcCArIHNjcm9sbFRvcCArIFwicHhcIjtcbiAgICBjbG9uZS5zdHlsZS5sZWZ0ID0gbGVmdCArIHNjcm9sbExlZnQgKyBcInB4XCI7XG4gICAgY2xvbmUuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIjtcbiAgICBjbG9uZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyBcInB4XCI7XG4gICAgY2xvbmUuc3R5bGUudHJhbnNmb3JtID0gXCJcIjtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG4gIHZhciBjcmVhdGVDdXN0b21FdmVudCA9IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUV2ZW50Mih0eXBlLCBwYXJhbXMpIHtcbiAgICB2YXIgZXZlbnRQYXJhbXMgPSBfZXh0ZW5kcyh7XG4gICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgZGV0YWlsOiB2b2lkIDBcbiAgICB9LCBwYXJhbXMpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQodHlwZSwgZXZlbnRQYXJhbXMpO1xuICAgIH1cbiAgICB2YXIgY3VzdG9tRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgIGN1c3RvbUV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCBldmVudFBhcmFtcy5idWJibGVzLCBldmVudFBhcmFtcy5jYW5jZWxhYmxlLCBldmVudFBhcmFtcy5kZXRhaWwpO1xuICAgIHJldHVybiBjdXN0b21FdmVudDtcbiAgfTtcbiAgdmFyIG1lZGl1bVpvb21Fc20gPSBmdW5jdGlvbiBtZWRpdW1ab29tKHNlbGVjdG9yKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciBQcm9taXNlMiA9IHdpbmRvdy5Qcm9taXNlIHx8IGZ1bmN0aW9uIFByb21pc2UzKGZuKSB7XG4gICAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgfVxuICAgICAgZm4obm9vcCwgbm9vcCk7XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZUNsaWNrID0gZnVuY3Rpb24gX2hhbmRsZUNsaWNrMihldmVudCkge1xuICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQgPT09IG92ZXJsYXkpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGltYWdlcy5pbmRleE9mKHRhcmdldCkgPT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRvZ2dsZSh7dGFyZ2V0fSk7XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIF9oYW5kbGVTY3JvbGwyKCkge1xuICAgICAgaWYgKGlzQW5pbWF0aW5nIHx8ICFhY3RpdmUub3JpZ2luYWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGN1cnJlbnRTY3JvbGwgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwO1xuICAgICAgaWYgKE1hdGguYWJzKHNjcm9sbFRvcCAtIGN1cnJlbnRTY3JvbGwpID4gem9vbU9wdGlvbnMuc2Nyb2xsT2Zmc2V0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoY2xvc2UsIDE1MCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2hhbmRsZUtleVVwID0gZnVuY3Rpb24gX2hhbmRsZUtleVVwMihldmVudCkge1xuICAgICAgdmFyIGtleSA9IGV2ZW50LmtleSB8fCBldmVudC5rZXlDb2RlO1xuICAgICAgaWYgKGtleSA9PT0gXCJFc2NhcGVcIiB8fCBrZXkgPT09IFwiRXNjXCIgfHwga2V5ID09PSAyNykge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZTIoKSB7XG4gICAgICB2YXIgb3B0aW9uczIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgdmFyIG5ld09wdGlvbnMgPSBvcHRpb25zMjtcbiAgICAgIGlmIChvcHRpb25zMi5iYWNrZ3JvdW5kKSB7XG4gICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZCA9IG9wdGlvbnMyLmJhY2tncm91bmQ7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uczIuY29udGFpbmVyICYmIG9wdGlvbnMyLmNvbnRhaW5lciBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICBuZXdPcHRpb25zLmNvbnRhaW5lciA9IF9leHRlbmRzKHt9LCB6b29tT3B0aW9ucy5jb250YWluZXIsIG9wdGlvbnMyLmNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9uczIudGVtcGxhdGUpIHtcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gaXNOb2RlKG9wdGlvbnMyLnRlbXBsYXRlKSA/IG9wdGlvbnMyLnRlbXBsYXRlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zMi50ZW1wbGF0ZSk7XG4gICAgICAgIG5ld09wdGlvbnMudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgICAgIH1cbiAgICAgIHpvb21PcHRpb25zID0gX2V4dGVuZHMoe30sIHpvb21PcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLmRpc3BhdGNoRXZlbnQoY3JlYXRlQ3VzdG9tRXZlbnQoXCJtZWRpdW0tem9vbTp1cGRhdGVcIiwge1xuICAgICAgICAgIGRldGFpbDoge3pvb219XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHpvb207XG4gICAgfTtcbiAgICB2YXIgY2xvbmUgPSBmdW5jdGlvbiBjbG9uZTIoKSB7XG4gICAgICB2YXIgb3B0aW9uczIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgICAgcmV0dXJuIG1lZGl1bVpvb21Fc20oX2V4dGVuZHMoe30sIHpvb21PcHRpb25zLCBvcHRpb25zMikpO1xuICAgIH07XG4gICAgdmFyIGF0dGFjaCA9IGZ1bmN0aW9uIGF0dGFjaDIoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgc2VsZWN0b3JzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHNlbGVjdG9yc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdJbWFnZXMgPSBzZWxlY3RvcnMucmVkdWNlKGZ1bmN0aW9uKGltYWdlc0FjY3VtdWxhdG9yLCBjdXJyZW50U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChpbWFnZXNBY2N1bXVsYXRvciwgZ2V0SW1hZ2VzRnJvbVNlbGVjdG9yKGN1cnJlbnRTZWxlY3RvcikpO1xuICAgICAgfSwgW10pO1xuICAgICAgbmV3SW1hZ2VzLmZpbHRlcihmdW5jdGlvbihuZXdJbWFnZSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VzLmluZGV4T2YobmV3SW1hZ2UpID09PSAtMTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24obmV3SW1hZ2UpIHtcbiAgICAgICAgaW1hZ2VzLnB1c2gobmV3SW1hZ2UpO1xuICAgICAgICBuZXdJbWFnZS5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20taW1hZ2VcIik7XG4gICAgICB9KTtcbiAgICAgIGV2ZW50TGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oX3JlZikge1xuICAgICAgICB2YXIgdHlwZSA9IF9yZWYudHlwZSwgbGlzdGVuZXIgPSBfcmVmLmxpc3RlbmVyLCBvcHRpb25zMiA9IF9yZWYub3B0aW9ucztcbiAgICAgICAgbmV3SW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zMik7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBkZXRhY2ggPSBmdW5jdGlvbiBkZXRhY2gyKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBzZWxlY3RvcnMgPSBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBzZWxlY3RvcnNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmUuem9vbWVkKSB7XG4gICAgICAgIGNsb3NlKCk7XG4gICAgICB9XG4gICAgICB2YXIgaW1hZ2VzVG9EZXRhY2ggPSBzZWxlY3RvcnMubGVuZ3RoID4gMCA/IHNlbGVjdG9ycy5yZWR1Y2UoZnVuY3Rpb24oaW1hZ2VzQWNjdW11bGF0b3IsIGN1cnJlbnRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gW10uY29uY2F0KGltYWdlc0FjY3VtdWxhdG9yLCBnZXRJbWFnZXNGcm9tU2VsZWN0b3IoY3VycmVudFNlbGVjdG9yKSk7XG4gICAgICB9LCBbXSkgOiBpbWFnZXM7XG4gICAgICBpbWFnZXNUb0RldGFjaC5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJtZWRpdW0tem9vbS1pbWFnZVwiKTtcbiAgICAgICAgaW1hZ2UuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOmRldGFjaFwiLCB7XG4gICAgICAgICAgZGV0YWlsOiB7em9vbX1cbiAgICAgICAgfSkpO1xuICAgICAgfSk7XG4gICAgICBpbWFnZXMgPSBpbWFnZXMuZmlsdGVyKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIHJldHVybiBpbWFnZXNUb0RldGFjaC5pbmRleE9mKGltYWdlKSA9PT0gLTE7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB6b29tO1xuICAgIH07XG4gICAgdmFyIG9uID0gZnVuY3Rpb24gb24yKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgb3B0aW9uczIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgICAgaW1hZ2VzLmZvckVhY2goZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcIm1lZGl1bS16b29tOlwiICsgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMyKTtcbiAgICAgIH0pO1xuICAgICAgZXZlbnRMaXN0ZW5lcnMucHVzaCh7dHlwZTogXCJtZWRpdW0tem9vbTpcIiArIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zOiBvcHRpb25zMn0pO1xuICAgICAgcmV0dXJuIHpvb207XG4gICAgfTtcbiAgICB2YXIgb2ZmID0gZnVuY3Rpb24gb2ZmMih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIG9wdGlvbnMyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB2b2lkIDAgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICAgIGltYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgICAgIGltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZWRpdW0tem9vbTpcIiArIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zMik7XG4gICAgICB9KTtcbiAgICAgIGV2ZW50TGlzdGVuZXJzID0gZXZlbnRMaXN0ZW5lcnMuZmlsdGVyKGZ1bmN0aW9uKGV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuICEoZXZlbnRMaXN0ZW5lci50eXBlID09PSBcIm1lZGl1bS16b29tOlwiICsgdHlwZSAmJiBldmVudExpc3RlbmVyLmxpc3RlbmVyLnRvU3RyaW5nKCkgPT09IGxpc3RlbmVyLnRvU3RyaW5nKCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gem9vbTtcbiAgICB9O1xuICAgIHZhciBvcGVuID0gZnVuY3Rpb24gb3BlbjIoKSB7XG4gICAgICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9LCB0YXJnZXQgPSBfcmVmMi50YXJnZXQ7XG4gICAgICB2YXIgX2FuaW1hdGUgPSBmdW5jdGlvbiBfYW5pbWF0ZTIoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB7XG4gICAgICAgICAgd2lkdGg6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgYm90dG9tOiAwXG4gICAgICAgIH07XG4gICAgICAgIHZhciB2aWV3cG9ydFdpZHRoID0gdm9pZCAwO1xuICAgICAgICB2YXIgdmlld3BvcnRIZWlnaHQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh6b29tT3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICBpZiAoem9vbU9wdGlvbnMuY29udGFpbmVyIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBfZXh0ZW5kcyh7fSwgY29udGFpbmVyLCB6b29tT3B0aW9ucy5jb250YWluZXIpO1xuICAgICAgICAgICAgdmlld3BvcnRXaWR0aCA9IGNvbnRhaW5lci53aWR0aCAtIGNvbnRhaW5lci5sZWZ0IC0gY29udGFpbmVyLnJpZ2h0IC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAtIGNvbnRhaW5lci50b3AgLSBjb250YWluZXIuYm90dG9tIC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHpvb21Db250YWluZXIgPSBpc05vZGUoem9vbU9wdGlvbnMuY29udGFpbmVyKSA/IHpvb21PcHRpb25zLmNvbnRhaW5lciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioem9vbU9wdGlvbnMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIHZhciBfem9vbUNvbnRhaW5lciRnZXRCb3UgPSB6b29tQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBfd2lkdGggPSBfem9vbUNvbnRhaW5lciRnZXRCb3Uud2lkdGgsIF9oZWlnaHQgPSBfem9vbUNvbnRhaW5lciRnZXRCb3UuaGVpZ2h0LCBfbGVmdCA9IF96b29tQ29udGFpbmVyJGdldEJvdS5sZWZ0LCBfdG9wID0gX3pvb21Db250YWluZXIkZ2V0Qm91LnRvcDtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IF9leHRlbmRzKHt9LCBjb250YWluZXIsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IF93aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBfaGVpZ2h0LFxuICAgICAgICAgICAgICBsZWZ0OiBfbGVmdCxcbiAgICAgICAgICAgICAgdG9wOiBfdG9wXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmlld3BvcnRXaWR0aCA9IHZpZXdwb3J0V2lkdGggfHwgY29udGFpbmVyLndpZHRoIC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgdmlld3BvcnRIZWlnaHQgPSB2aWV3cG9ydEhlaWdodCB8fCBjb250YWluZXIuaGVpZ2h0IC0gem9vbU9wdGlvbnMubWFyZ2luICogMjtcbiAgICAgICAgdmFyIHpvb21UYXJnZXQgPSBhY3RpdmUuem9vbWVkSGQgfHwgYWN0aXZlLm9yaWdpbmFsO1xuICAgICAgICB2YXIgbmF0dXJhbFdpZHRoID0gaXNTdmcoem9vbVRhcmdldCkgPyB2aWV3cG9ydFdpZHRoIDogem9vbVRhcmdldC5uYXR1cmFsV2lkdGggfHwgdmlld3BvcnRXaWR0aDtcbiAgICAgICAgdmFyIG5hdHVyYWxIZWlnaHQgPSBpc1N2Zyh6b29tVGFyZ2V0KSA/IHZpZXdwb3J0SGVpZ2h0IDogem9vbVRhcmdldC5uYXR1cmFsSGVpZ2h0IHx8IHZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICB2YXIgX3pvb21UYXJnZXQkZ2V0Qm91bmRpID0gem9vbVRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdG9wID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLnRvcCwgbGVmdCA9IF96b29tVGFyZ2V0JGdldEJvdW5kaS5sZWZ0LCB3aWR0aCA9IF96b29tVGFyZ2V0JGdldEJvdW5kaS53aWR0aCwgaGVpZ2h0ID0gX3pvb21UYXJnZXQkZ2V0Qm91bmRpLmhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlWCA9IE1hdGgubWluKG5hdHVyYWxXaWR0aCwgdmlld3BvcnRXaWR0aCkgLyB3aWR0aDtcbiAgICAgICAgdmFyIHNjYWxlWSA9IE1hdGgubWluKG5hdHVyYWxIZWlnaHQsIHZpZXdwb3J0SGVpZ2h0KSAvIGhlaWdodDtcbiAgICAgICAgdmFyIHNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWCA9ICgtbGVmdCArICh2aWV3cG9ydFdpZHRoIC0gd2lkdGgpIC8gMiArIHpvb21PcHRpb25zLm1hcmdpbiArIGNvbnRhaW5lci5sZWZ0KSAvIHNjYWxlO1xuICAgICAgICB2YXIgdHJhbnNsYXRlWSA9ICgtdG9wICsgKHZpZXdwb3J0SGVpZ2h0IC0gaGVpZ2h0KSAvIDIgKyB6b29tT3B0aW9ucy5tYXJnaW4gKyBjb250YWluZXIudG9wKSAvIHNjYWxlO1xuICAgICAgICB2YXIgdHJhbnNmb3JtID0gXCJzY2FsZShcIiArIHNjYWxlICsgXCIpIHRyYW5zbGF0ZTNkKFwiICsgdHJhbnNsYXRlWCArIFwicHgsIFwiICsgdHJhbnNsYXRlWSArIFwicHgsIDApXCI7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICBpZiAoYWN0aXZlLnpvb21lZEhkKSB7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTIoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgICBpZiAodGFyZ2V0ICYmIGltYWdlcy5pbmRleE9mKHRhcmdldCkgPT09IC0xKSB7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9oYW5kbGVPcGVuRW5kID0gZnVuY3Rpb24gX2hhbmRsZU9wZW5FbmQyKCkge1xuICAgICAgICAgIGlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlT3BlbkVuZDIpO1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUN1c3RvbUV2ZW50KFwibWVkaXVtLXpvb206b3BlbmVkXCIsIHtcbiAgICAgICAgICAgIGRldGFpbDoge3pvb219XG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJlc29sdmUoem9vbSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChhY3RpdmUuem9vbWVkKSB7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbCA9IHRhcmdldDtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHZhciBfaW1hZ2VzID0gaW1hZ2VzO1xuICAgICAgICAgIGFjdGl2ZS5vcmlnaW5hbCA9IF9pbWFnZXNbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSh6b29tKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYWN0aXZlLm9yaWdpbmFsLmRpc3BhdGNoRXZlbnQoY3JlYXRlQ3VzdG9tRXZlbnQoXCJtZWRpdW0tem9vbTpvcGVuXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHt6b29tfVxuICAgICAgICB9KSk7XG4gICAgICAgIHNjcm9sbFRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IDA7XG4gICAgICAgIGlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgYWN0aXZlLnpvb21lZCA9IGNsb25lVGFyZ2V0KGFjdGl2ZS5vcmlnaW5hbCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQob3ZlcmxheSk7XG4gICAgICAgIGlmICh6b29tT3B0aW9ucy50ZW1wbGF0ZSkge1xuICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGlzTm9kZSh6b29tT3B0aW9ucy50ZW1wbGF0ZSkgPyB6b29tT3B0aW9ucy50ZW1wbGF0ZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioem9vbU9wdGlvbnMudGVtcGxhdGUpO1xuICAgICAgICAgIGFjdGl2ZS50ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgYWN0aXZlLnRlbXBsYXRlLmFwcGVuZENoaWxkKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFjdGl2ZS50ZW1wbGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhY3RpdmUuem9vbWVkKTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS0tb3BlbmVkXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgYWN0aXZlLm9yaWdpbmFsLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZS0taGlkZGVuXCIpO1xuICAgICAgICBhY3RpdmUuem9vbWVkLmNsYXNzTGlzdC5hZGQoXCJtZWRpdW0tem9vbS1pbWFnZS0tb3BlbmVkXCIpO1xuICAgICAgICBhY3RpdmUuem9vbWVkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZSk7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgX2hhbmRsZU9wZW5FbmQpO1xuICAgICAgICBpZiAoYWN0aXZlLm9yaWdpbmFsLmdldEF0dHJpYnV0ZShcImRhdGEtem9vbS1zcmNcIikpIHtcbiAgICAgICAgICBhY3RpdmUuem9vbWVkSGQgPSBhY3RpdmUuem9vbWVkLmNsb25lTm9kZSgpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNzZXRcIik7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnJlbW92ZUF0dHJpYnV0ZShcInNpemVzXCIpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5zcmMgPSBhY3RpdmUuem9vbWVkLmdldEF0dHJpYnV0ZShcImRhdGEtem9vbS1zcmNcIik7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZ2V0Wm9vbVRhcmdldFNpemUpO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5hYmxlIHRvIHJlYWNoIHRoZSB6b29tIGltYWdlIHRhcmdldCBcIiArIGFjdGl2ZS56b29tZWRIZC5zcmMpO1xuICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkID0gbnVsbDtcbiAgICAgICAgICAgIF9hbmltYXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIgZ2V0Wm9vbVRhcmdldFNpemUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmUuem9vbWVkSGQuY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChnZXRab29tVGFyZ2V0U2l6ZSk7XG4gICAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5jbGFzc0xpc3QuYWRkKFwibWVkaXVtLXpvb20taW1hZ2UtLW9wZW5lZFwiKTtcbiAgICAgICAgICAgICAgYWN0aXZlLnpvb21lZEhkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZSk7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWN0aXZlLnpvb21lZEhkKTtcbiAgICAgICAgICAgICAgX2FuaW1hdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlLm9yaWdpbmFsLmhhc0F0dHJpYnV0ZShcInNyY3NldFwiKSkge1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZCA9IGFjdGl2ZS56b29tZWQuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZEhkLnJlbW92ZUF0dHJpYnV0ZShcInNpemVzXCIpO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5yZW1vdmVBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpO1xuICAgICAgICAgIHZhciBsb2FkRXZlbnRMaXN0ZW5lciA9IGFjdGl2ZS56b29tZWRIZC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsb2FkRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuY2xhc3NMaXN0LmFkZChcIm1lZGl1bS16b29tLWltYWdlLS1vcGVuZWRcIik7XG4gICAgICAgICAgICBhY3RpdmUuem9vbWVkSGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYWN0aXZlLnpvb21lZEhkKTtcbiAgICAgICAgICAgIF9hbmltYXRlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgX2FuaW1hdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbiBjbG9zZTIoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UyKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgaWYgKGlzQW5pbWF0aW5nIHx8ICFhY3RpdmUub3JpZ2luYWwpIHtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2hhbmRsZUNsb3NlRW5kID0gZnVuY3Rpb24gX2hhbmRsZUNsb3NlRW5kMigpIHtcbiAgICAgICAgICBhY3RpdmUub3JpZ2luYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLWltYWdlLS1oaWRkZW5cIik7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhY3RpdmUuem9vbWVkKTtcbiAgICAgICAgICBpZiAoYWN0aXZlLnpvb21lZEhkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFjdGl2ZS56b29tZWRIZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheSk7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZC5jbGFzc0xpc3QucmVtb3ZlKFwibWVkaXVtLXpvb20taW1hZ2UtLW9wZW5lZFwiKTtcbiAgICAgICAgICBpZiAoYWN0aXZlLnRlbXBsYXRlKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFjdGl2ZS50ZW1wbGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgYWN0aXZlLnpvb21lZC5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBfaGFuZGxlQ2xvc2VFbmQyKTtcbiAgICAgICAgICBhY3RpdmUub3JpZ2luYWwuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOmNsb3NlZFwiLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHt6b29tfVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBhY3RpdmUub3JpZ2luYWwgPSBudWxsO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWQgPSBudWxsO1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZCA9IG51bGw7XG4gICAgICAgICAgYWN0aXZlLnRlbXBsYXRlID0gbnVsbDtcbiAgICAgICAgICByZXNvbHZlKHpvb20pO1xuICAgICAgICB9O1xuICAgICAgICBpc0FuaW1hdGluZyA9IHRydWU7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIm1lZGl1bS16b29tLS1vcGVuZWRcIik7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuc3R5bGUudHJhbnNmb3JtID0gXCJcIjtcbiAgICAgICAgaWYgKGFjdGl2ZS56b29tZWRIZCkge1xuICAgICAgICAgIGFjdGl2ZS56b29tZWRIZC5zdHlsZS50cmFuc2Zvcm0gPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmUudGVtcGxhdGUpIHtcbiAgICAgICAgICBhY3RpdmUudGVtcGxhdGUuc3R5bGUudHJhbnNpdGlvbiA9IFwib3BhY2l0eSAxNTBtc1wiO1xuICAgICAgICAgIGFjdGl2ZS50ZW1wbGF0ZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBhY3RpdmUub3JpZ2luYWwuZGlzcGF0Y2hFdmVudChjcmVhdGVDdXN0b21FdmVudChcIm1lZGl1bS16b29tOmNsb3NlXCIsIHtcbiAgICAgICAgICBkZXRhaWw6IHt6b29tfVxuICAgICAgICB9KSk7XG4gICAgICAgIGFjdGl2ZS56b29tZWQuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgX2hhbmRsZUNsb3NlRW5kKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZTIoKSB7XG4gICAgICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1swXSA6IHt9LCB0YXJnZXQgPSBfcmVmMy50YXJnZXQ7XG4gICAgICBpZiAoYWN0aXZlLm9yaWdpbmFsKSB7XG4gICAgICAgIHJldHVybiBjbG9zZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wZW4oe3RhcmdldH0pO1xuICAgIH07XG4gICAgdmFyIGdldE9wdGlvbnMgPSBmdW5jdGlvbiBnZXRPcHRpb25zMigpIHtcbiAgICAgIHJldHVybiB6b29tT3B0aW9ucztcbiAgICB9O1xuICAgIHZhciBnZXRJbWFnZXMgPSBmdW5jdGlvbiBnZXRJbWFnZXMyKCkge1xuICAgICAgcmV0dXJuIGltYWdlcztcbiAgICB9O1xuICAgIHZhciBnZXRab29tZWRJbWFnZSA9IGZ1bmN0aW9uIGdldFpvb21lZEltYWdlMigpIHtcbiAgICAgIHJldHVybiBhY3RpdmUub3JpZ2luYWw7XG4gICAgfTtcbiAgICB2YXIgaW1hZ2VzID0gW107XG4gICAgdmFyIGV2ZW50TGlzdGVuZXJzID0gW107XG4gICAgdmFyIGlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgdmFyIHNjcm9sbFRvcCA9IDA7XG4gICAgdmFyIHpvb21PcHRpb25zID0gb3B0aW9ucztcbiAgICB2YXIgYWN0aXZlID0ge1xuICAgICAgb3JpZ2luYWw6IG51bGwsXG4gICAgICB6b29tZWQ6IG51bGwsXG4gICAgICB6b29tZWRIZDogbnVsbCxcbiAgICAgIHRlbXBsYXRlOiBudWxsXG4gICAgfTtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNlbGVjdG9yKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgem9vbU9wdGlvbnMgPSBzZWxlY3RvcjtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgYXR0YWNoKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgem9vbU9wdGlvbnMgPSBfZXh0ZW5kcyh7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICBiYWNrZ3JvdW5kOiBcIiNmZmZcIixcbiAgICAgIHNjcm9sbE9mZnNldDogNDAsXG4gICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICB0ZW1wbGF0ZTogbnVsbFxuICAgIH0sIHpvb21PcHRpb25zKTtcbiAgICB2YXIgb3ZlcmxheSA9IGNyZWF0ZU92ZXJsYXkoem9vbU9wdGlvbnMuYmFja2dyb3VuZCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIF9oYW5kbGVDbGljayk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIF9oYW5kbGVLZXlVcCk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBfaGFuZGxlU2Nyb2xsKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBjbG9zZSk7XG4gICAgdmFyIHpvb20gPSB7XG4gICAgICBvcGVuLFxuICAgICAgY2xvc2UsXG4gICAgICB0b2dnbGUsXG4gICAgICB1cGRhdGUsXG4gICAgICBjbG9uZSxcbiAgICAgIGF0dGFjaCxcbiAgICAgIGRldGFjaCxcbiAgICAgIG9uLFxuICAgICAgb2ZmLFxuICAgICAgZ2V0T3B0aW9ucyxcbiAgICAgIGdldEltYWdlcyxcbiAgICAgIGdldFpvb21lZEltYWdlXG4gICAgfTtcbiAgICByZXR1cm4gem9vbTtcbiAgfTtcbiAgZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzMiwgcmVmKSB7XG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKVxuICAgICAgcmVmID0ge307XG4gICAgdmFyIGluc2VydEF0ID0gcmVmLmluc2VydEF0O1xuICAgIGlmICghY3NzMiB8fCB0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcbiAgICBpZiAoaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcbiAgICAgIGlmIChoZWFkLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGUsIGhlYWQuZmlyc3RDaGlsZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgfVxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3MyO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MyKSk7XG4gICAgfVxuICB9XG4gIHZhciBjc3MgPSBcIi5tZWRpdW0tem9vbS1vdmVybGF5e3Bvc2l0aW9uOmZpeGVkO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7bGVmdDowO29wYWNpdHk6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjNzO3dpbGwtY2hhbmdlOm9wYWNpdHl9Lm1lZGl1bS16b29tLS1vcGVuZWQgLm1lZGl1bS16b29tLW92ZXJsYXl7Y3Vyc29yOnBvaW50ZXI7Y3Vyc29yOnpvb20tb3V0O29wYWNpdHk6MX0ubWVkaXVtLXpvb20taW1hZ2V7Y3Vyc29yOnBvaW50ZXI7Y3Vyc29yOnpvb20taW47dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzIGN1YmljLWJlemllciguMiwwLC4yLDEpIWltcG9ydGFudH0ubWVkaXVtLXpvb20taW1hZ2UtLWhpZGRlbnt2aXNpYmlsaXR5OmhpZGRlbn0ubWVkaXVtLXpvb20taW1hZ2UtLW9wZW5lZHtwb3NpdGlvbjpyZWxhdGl2ZTtjdXJzb3I6cG9pbnRlcjtjdXJzb3I6em9vbS1vdXQ7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfVwiO1xuICBzdHlsZUluamVjdChjc3MpO1xuICB2YXIgbWVkaXVtX3pvb21fZXNtX2RlZmF1bHQgPSBtZWRpdW1ab29tRXNtO1xuXG4gIC8vIG5zLXBhcmFtczpAcGFyYW1zXG4gIHZhciBjb2RlSGlnaGxpZ2h0aW5nID0gdHJ1ZTtcbiAgdmFyIGh1Z29FbnZpcm9ubWVudCA9IFwiZGV2ZWxvcG1lbnRcIjtcbiAgdmFyIHNlYXJjaEVuYWJsZWQgPSB0cnVlO1xuXG4gIC8vIG5zLWh1Z286QzpcXFVzZXJzXFxncmFuZFxcQXBwRGF0YVxcTG9jYWxcXFRlbXBcXGh1Z29fY2FjaGVcXG1vZHVsZXNcXGZpbGVjYWNoZVxcbW9kdWxlc1xccGtnXFxtb2RcXGdpdGh1Yi5jb21cXHdvd2NoZW15XFx3b3djaGVteS1odWdvLW1vZHVsZXNcXHdvd2NoZW15XFx2NUB2NS4wLjAtMjAyMTA2MjkxOTI5MDQtNTU5ODg1YWY4NmI3XFxhc3NldHNcXGpzXFx3b3djaGVteS11dGlscy5qc1xuICBmdW5jdGlvbiBmaXhNZXJtYWlkKHJlbmRlciA9IGZhbHNlKSB7XG4gICAgbGV0IG1lcm1haWRzID0gW107XG4gICAgW10ucHVzaC5hcHBseShtZXJtYWlkcywgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImxhbmd1YWdlLW1lcm1haWRcIikpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVybWFpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtZXJtYWlkQ29kZUVsZW1lbnQgPSBtZXJtYWlkc1tpXTtcbiAgICAgIGxldCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5ld0VsZW1lbnQuaW5uZXJIVE1MID0gbWVybWFpZENvZGVFbGVtZW50LmlubmVySFRNTDtcbiAgICAgIG5ld0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1lcm1haWRcIik7XG4gICAgICBpZiAocmVuZGVyKSB7XG4gICAgICAgIHdpbmRvdy5tZXJtYWlkLm1lcm1haWRBUEkucmVuZGVyKGBtZXJtYWlkLSR7aX1gLCBuZXdFbGVtZW50LnRleHRDb250ZW50LCBmdW5jdGlvbihzdmdDb2RlKSB7XG4gICAgICAgICAgbmV3RWxlbWVudC5pbm5lckhUTUwgPSBzdmdDb2RlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIG1lcm1haWRDb2RlRWxlbWVudC5wYXJlbnROb2RlLnJlcGxhY2VXaXRoKG5ld0VsZW1lbnQpO1xuICAgIH1cbiAgICBjb25zb2xlLmRlYnVnKGBQcm9jZXNzZWQgJHttZXJtYWlkcy5sZW5ndGh9IE1lcm1haWQgY29kZSBibG9ja3NgKTtcbiAgfVxuICBmdW5jdGlvbiBzY3JvbGxQYXJlbnRUb0NoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgICBjb25zdCBwYXJlbnRSZWN0ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHBhcmVudFZpZXdhYmxlQXJlYSA9IHtcbiAgICAgIGhlaWdodDogcGFyZW50LmNsaWVudEhlaWdodCxcbiAgICAgIHdpZHRoOiBwYXJlbnQuY2xpZW50V2lkdGhcbiAgICB9O1xuICAgIGNvbnN0IGNoaWxkUmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGlzQ2hpbGRJblZpZXcgPSBjaGlsZFJlY3QudG9wID49IHBhcmVudFJlY3QudG9wICYmIGNoaWxkUmVjdC5ib3R0b20gPD0gcGFyZW50UmVjdC50b3AgKyBwYXJlbnRWaWV3YWJsZUFyZWEuaGVpZ2h0O1xuICAgIGlmICghaXNDaGlsZEluVmlldykge1xuICAgICAgcGFyZW50LnNjcm9sbFRvcCA9IGNoaWxkUmVjdC50b3AgKyBwYXJlbnQuc2Nyb2xsVG9wIC0gcGFyZW50UmVjdC50b3A7XG4gICAgfVxuICB9XG5cbiAgLy8gbnMtaHVnbzpDOlxcVXNlcnNcXGdyYW5kXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlcXHY1QHY1LjAuMC0yMDIxMDYyOTE5MjkwNC01NTk4ODVhZjg2YjdcXGFzc2V0c1xcanNcXHdvd2NoZW15LWFuaW1hdGlvbi5qc1xuICBmdW5jdGlvbiBmYWRlSW4oZWxlbWVudCwgZHVyYXRpb24gPSA2MDApIHtcbiAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGxldCBsYXN0ID0gK25ldyBEYXRlKCk7XG4gICAgbGV0IHRpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICgrZWxlbWVudC5zdHlsZS5vcGFjaXR5ICsgKG5ldyBEYXRlKCkgLSBsYXN0KSAvIGR1cmF0aW9uKS50b1N0cmluZygpO1xuICAgICAgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuICAgICAgaWYgKCtlbGVtZW50LnN0eWxlLm9wYWNpdHkgPCAxKSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spIHx8IHNldFRpbWVvdXQodGljaywgMTYpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGljaygpO1xuICB9XG5cbiAgLy8gbnMtaHVnbzpDOlxcVXNlcnNcXGdyYW5kXFxBcHBEYXRhXFxMb2NhbFxcVGVtcFxcaHVnb19jYWNoZVxcbW9kdWxlc1xcZmlsZWNhY2hlXFxtb2R1bGVzXFxwa2dcXG1vZFxcZ2l0aHViLmNvbVxcd293Y2hlbXlcXHdvd2NoZW15LWh1Z28tbW9kdWxlc1xcd293Y2hlbXlcXHY1QHY1LjAuMC0yMDIxMDYyOTE5MjkwNC01NTk4ODVhZjg2YjdcXGFzc2V0c1xcanNcXHdvd2NoZW15LXRoZW1pbmcuanNcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICBmdW5jdGlvbiBnZXRUaGVtZU1vZGUoKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid2NUaGVtZVwiKSB8fCAyKTtcbiAgfVxuICBmdW5jdGlvbiBjYW5DaGFuZ2VUaGVtZSgpIHtcbiAgICByZXR1cm4gQm9vbGVhbih3aW5kb3cud2MuZGFya0xpZ2h0RW5hYmxlZCk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdFRoZW1lVmFyaWF0aW9uKCkge1xuICAgIGlmICghY2FuQ2hhbmdlVGhlbWUoKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgdGhlbWluZyBkaXNhYmxlZC5cIik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc0RhcmtUaGVtZTogd2luZG93LndjLmlzU2l0ZVRoZW1lRGFyayxcbiAgICAgICAgdGhlbWVNb2RlOiB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrID8gMSA6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnNvbGUuZGVidWcoXCJVc2VyIHRoZW1pbmcgZW5hYmxlZC5cIik7XG4gICAgbGV0IGlzRGFya1RoZW1lO1xuICAgIGxldCBjdXJyZW50VGhlbWVNb2RlID0gZ2V0VGhlbWVNb2RlKCk7XG4gICAgY29uc29sZS5kZWJ1ZyhgVXNlcidzIHRoZW1lIHZhcmlhdGlvbjogJHtjdXJyZW50VGhlbWVNb2RlfWApO1xuICAgIHN3aXRjaCAoY3VycmVudFRoZW1lTW9kZSkge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBpc0RhcmtUaGVtZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcykge1xuICAgICAgICAgIGlzRGFya1RoZW1lID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgICBpc0RhcmtUaGVtZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlzRGFya1RoZW1lID0gd2luZG93LndjLmlzU2l0ZVRoZW1lRGFyaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKGlzRGFya1RoZW1lICYmICFib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBXb3djaGVteSBkYXJrIHRoZW1lXCIpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiZGFya1wiKTtcbiAgICB9IGVsc2UgaWYgKCFpc0RhcmtUaGVtZSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoXCJBcHBseWluZyBXb3djaGVteSBsaWdodCB0aGVtZVwiKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImRhcmtcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBpc0RhcmtUaGVtZSxcbiAgICAgIHRoZW1lTW9kZTogY3VycmVudFRoZW1lTW9kZVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY2hhbmdlVGhlbWVNb2RlQ2xpY2sobmV3TW9kZSkge1xuICAgIGlmICghY2FuQ2hhbmdlVGhlbWUoKSkge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhbm5vdCBjaGFuZ2UgdGhlbWUgLSB1c2VyIHRoZW1pbmcgZGlzYWJsZWQuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaXNEYXJrVGhlbWU7XG4gICAgc3dpdGNoIChuZXdNb2RlKSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid2NUaGVtZVwiLCBcIjBcIik7XG4gICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCJVc2VyIGNoYW5nZWQgdGhlbWUgdmFyaWF0aW9uIHRvIExpZ2h0LlwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid2NUaGVtZVwiLCBcIjFcIik7XG4gICAgICAgIGlzRGFya1RoZW1lID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlVzZXIgY2hhbmdlZCB0aGVtZSB2YXJpYXRpb24gdG8gRGFyay5cIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ3Y1RoZW1lXCIsIFwiMlwiKTtcbiAgICAgICAgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzKSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIikubWF0Y2hlcykge1xuICAgICAgICAgIGlzRGFya1RoZW1lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXNEYXJrVGhlbWUgPSB3aW5kb3cud2MuaXNTaXRlVGhlbWVEYXJrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCJVc2VyIGNoYW5nZWQgdGhlbWUgdmFyaWF0aW9uIHRvIEF1dG8uXCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIG5ld01vZGUpO1xuICB9XG4gIGZ1bmN0aW9uIHNob3dBY3RpdmVUaGVtZShtb2RlKSB7XG4gICAgbGV0IGxpbmtMaWdodDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1saWdodFwiKTtcbiAgICBsZXQgbGlua0RhcmsyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zZXQtdGhlbWUtZGFya1wiKTtcbiAgICBsZXQgbGlua0F1dG8yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zZXQtdGhlbWUtYXV0b1wiKTtcbiAgICBpZiAobGlua0xpZ2h0MiA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgbGlua0xpZ2h0Mi5jbGFzc0xpc3QuYWRkKFwiZHJvcGRvd24taXRlbS1hY3RpdmVcIik7XG4gICAgICAgIGxpbmtEYXJrMi5jbGFzc0xpc3QucmVtb3ZlKFwiZHJvcGRvd24taXRlbS1hY3RpdmVcIik7XG4gICAgICAgIGxpbmtBdXRvMi5jbGFzc0xpc3QucmVtb3ZlKFwiZHJvcGRvd24taXRlbS1hY3RpdmVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAxOlxuICAgICAgICBsaW5rTGlnaHQyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0RhcmsyLmNsYXNzTGlzdC5hZGQoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0F1dG8yLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBsaW5rTGlnaHQyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0RhcmsyLmNsYXNzTGlzdC5yZW1vdmUoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgbGlua0F1dG8yLmNsYXNzTGlzdC5hZGQoXCJkcm9wZG93bi1pdGVtLWFjdGl2ZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclRoZW1lVmFyaWF0aW9uKGlzRGFya1RoZW1lLCB0aGVtZU1vZGUgPSAyLCBpbml0ID0gZmFsc2UpIHtcbiAgICBjb25zdCBjb2RlSGxMaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW3RpdGxlPWhsLWxpZ2h0XVwiKTtcbiAgICBjb25zdCBjb2RlSGxEYXJrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImxpbmtbdGl0bGU9aGwtZGFya11cIik7XG4gICAgY29uc3QgY29kZUhsRW5hYmxlZCA9IGNvZGVIbExpZ2h0ICE9PSBudWxsIHx8IGNvZGVIbERhcmsgIT09IG51bGw7XG4gICAgY29uc3QgZGlhZ3JhbUVuYWJsZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic2NyaXB0W3RpdGxlPW1lcm1haWRdXCIpICE9PSBudWxsO1xuICAgIHNob3dBY3RpdmVUaGVtZSh0aGVtZU1vZGUpO1xuICAgIGNvbnN0IHRoZW1lQ2hhbmdlRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXCJ3Y1RoZW1lQ2hhbmdlXCIsIHtkZXRhaWw6IHtpc0RhcmtUaGVtZTogKCkgPT4gaXNEYXJrVGhlbWV9fSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudCh0aGVtZUNoYW5nZUV2ZW50KTtcbiAgICBpZiAoIWluaXQpIHtcbiAgICAgIGlmIChpc0RhcmtUaGVtZSA9PT0gZmFsc2UgJiYgIWJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSB8fCBpc0RhcmtUaGVtZSA9PT0gdHJ1ZSAmJiBib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEYXJrVGhlbWUgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoIWluaXQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkb2N1bWVudC5ib2R5LnN0eWxlLCB7b3BhY2l0eTogMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KTtcbiAgICAgICAgZmFkZUluKGRvY3VtZW50LmJvZHksIDYwMCk7XG4gICAgICB9XG4gICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJkYXJrXCIpO1xuICAgICAgaWYgKGNvZGVIbEVuYWJsZWQpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlNldHRpbmcgSExKUyB0aGVtZSB0byBsaWdodFwiKTtcbiAgICAgICAgaWYgKGNvZGVIbExpZ2h0KSB7XG4gICAgICAgICAgY29kZUhsTGlnaHQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZUhsRGFyaykge1xuICAgICAgICAgIGNvZGVIbERhcmsuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlhZ3JhbUVuYWJsZWQpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkluaXRpYWxpemluZyBNZXJtYWlkIHdpdGggbGlnaHQgdGhlbWVcIik7XG4gICAgICAgIGlmIChpbml0KSB7XG4gICAgICAgICAgd2luZG93Lm1lcm1haWQuaW5pdGlhbGl6ZSh7c3RhcnRPbkxvYWQ6IGZhbHNlLCB0aGVtZTogXCJkZWZhdWx0XCIsIHNlY3VyaXR5TGV2ZWw6IFwibG9vc2VcIn0pO1xuICAgICAgICAgIGZpeE1lcm1haWQodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzRGFya1RoZW1lID09PSB0cnVlKSB7XG4gICAgICBpZiAoIWluaXQpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihkb2N1bWVudC5ib2R5LnN0eWxlLCB7b3BhY2l0eTogMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KTtcbiAgICAgICAgZmFkZUluKGRvY3VtZW50LmJvZHksIDYwMCk7XG4gICAgICB9XG4gICAgICBib2R5LmNsYXNzTGlzdC5hZGQoXCJkYXJrXCIpO1xuICAgICAgaWYgKGNvZGVIbEVuYWJsZWQpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIlNldHRpbmcgSExKUyB0aGVtZSB0byBkYXJrXCIpO1xuICAgICAgICBpZiAoY29kZUhsTGlnaHQpIHtcbiAgICAgICAgICBjb2RlSGxMaWdodC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGVIbERhcmspIHtcbiAgICAgICAgICBjb2RlSGxEYXJrLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaWFncmFtRW5hYmxlZCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiSW5pdGlhbGl6aW5nIE1lcm1haWQgd2l0aCBkYXJrIHRoZW1lXCIpO1xuICAgICAgICBpZiAoaW5pdCkge1xuICAgICAgICAgIHdpbmRvdy5tZXJtYWlkLmluaXRpYWxpemUoe3N0YXJ0T25Mb2FkOiBmYWxzZSwgdGhlbWU6IFwiZGFya1wiLCBzZWN1cml0eUxldmVsOiBcImxvb3NlXCJ9KTtcbiAgICAgICAgICBmaXhNZXJtYWlkKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG9uTWVkaWFRdWVyeUxpc3RFdmVudChldmVudCkge1xuICAgIGlmICghY2FuQ2hhbmdlVGhlbWUoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXJrTW9kZU9uID0gZXZlbnQubWF0Y2hlcztcbiAgICBjb25zb2xlLmRlYnVnKGBPUyBkYXJrIG1vZGUgcHJlZmVyZW5jZSBjaGFuZ2VkIHRvICR7ZGFya01vZGVPbiA/IFwiXFx1ezFGMzEyfSBvblwiIDogXCJcXHUyNjAwXFx1RkUwRiBvZmZcIn0uYCk7XG4gICAgbGV0IGN1cnJlbnRUaGVtZVZhcmlhdGlvbiA9IGdldFRoZW1lTW9kZSgpO1xuICAgIGxldCBpc0RhcmtUaGVtZTtcbiAgICBpZiAoY3VycmVudFRoZW1lVmFyaWF0aW9uID09PSAyKSB7XG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICh3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpXCIpLm1hdGNoZXMpIHtcbiAgICAgICAgaXNEYXJrVGhlbWUgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlzRGFya1RoZW1lID0gd2luZG93LndjLmlzU2l0ZVRoZW1lRGFyaztcbiAgICAgIH1cbiAgICAgIHJlbmRlclRoZW1lVmFyaWF0aW9uKGlzRGFya1RoZW1lLCBjdXJyZW50VGhlbWVWYXJpYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8vIDxzdGRpbj5cbiAgY29uc29sZS5kZWJ1ZyhgRW52aXJvbm1lbnQ6ICR7aHVnb0Vudmlyb25tZW50fWApO1xuICBmdW5jdGlvbiBnZXROYXZCYXJIZWlnaHQoKSB7XG4gICAgbGV0IG5hdmJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmF2YmFyLW1haW5cIik7XG4gICAgbGV0IG5hdmJhckhlaWdodCA9IG5hdmJhciA/IG5hdmJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgOiAwO1xuICAgIGNvbnNvbGUuZGVidWcoXCJOYXZiYXIgaGVpZ2h0OiBcIiArIG5hdmJhckhlaWdodCk7XG4gICAgcmV0dXJuIG5hdmJhckhlaWdodDtcbiAgfVxuICBmdW5jdGlvbiBzY3JvbGxUb0FuY2hvcih0YXJnZXQsIGR1cmF0aW9uID0gMCkge1xuICAgIHRhcmdldCA9IHR5cGVvZiB0YXJnZXQgPT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHRhcmdldCA9PT0gXCJvYmplY3RcIiA/IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaGFzaCkgOiB0YXJnZXQ7XG4gICAgaWYgKCQodGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgIHRhcmdldCA9IFwiI1wiICsgJC5lc2NhcGVTZWxlY3Rvcih0YXJnZXQuc3Vic3RyaW5nKDEpKTtcbiAgICAgIGxldCBlbGVtZW50T2Zmc2V0ID0gTWF0aC5jZWlsKCQodGFyZ2V0KS5vZmZzZXQoKS50b3AgLSBnZXROYXZCYXJIZWlnaHQoKSk7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcInNjcm9sbGluZ1wiKTtcbiAgICAgICQoXCJodG1sLCBib2R5XCIpLmFuaW1hdGUoe1xuICAgICAgICBzY3JvbGxUb3A6IGVsZW1lbnRPZmZzZXRcbiAgICAgIH0sIGR1cmF0aW9uLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJzY3JvbGxpbmdcIik7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhbm5vdCBzY3JvbGwgdG8gdGFyZ2V0IGAjXCIgKyB0YXJnZXQgKyBcImAuIElEIG5vdCBmb3VuZCFcIik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGZpeFNjcm9sbHNweSgpIHtcbiAgICBsZXQgJGJvZHkgPSAkKFwiYm9keVwiKTtcbiAgICBsZXQgZGF0YSA9ICRib2R5LmRhdGEoXCJicy5zY3JvbGxzcHlcIik7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEuX2NvbmZpZy5vZmZzZXQgPSBnZXROYXZCYXJIZWlnaHQoKTtcbiAgICAgICRib2R5LmRhdGEoXCJicy5zY3JvbGxzcHlcIiwgZGF0YSk7XG4gICAgICAkYm9keS5zY3JvbGxzcHkoXCJyZWZyZXNoXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZW1vdmVRdWVyeVBhcmFtc0Zyb21VcmwoKSB7XG4gICAgaWYgKHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgbGV0IHVybFdpdGhvdXRTZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdCArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHtwYXRoOiB1cmxXaXRob3V0U2VhcmNoUGFyYW1zfSwgXCJcIiwgdXJsV2l0aG91dFNlYXJjaFBhcmFtcyk7XG4gICAgfVxuICB9XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLCBzY3JvbGxUb0FuY2hvcik7XG4gICQoXCIjbmF2YmFyLW1haW4gbGkubmF2LWl0ZW0gYS5uYXYtbGluaywgLmpzLXNjcm9sbFwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgbGV0IGhhc2ggPSB0aGlzLmhhc2g7XG4gICAgaWYgKHRoaXMucGF0aG5hbWUgPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAmJiBoYXNoICYmICQoaGFzaCkubGVuZ3RoICYmICQoXCIuanMtd2lkZ2V0LXBhZ2VcIikubGVuZ3RoID4gMCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBlbGVtZW50T2Zmc2V0ID0gTWF0aC5jZWlsKCQoaGFzaCkub2Zmc2V0KCkudG9wIC0gZ2V0TmF2QmFySGVpZ2h0KCkpO1xuICAgICAgJChcImh0bWwsIGJvZHlcIikuYW5pbWF0ZSh7XG4gICAgICAgIHNjcm9sbFRvcDogZWxlbWVudE9mZnNldFxuICAgICAgfSwgODAwKTtcbiAgICB9XG4gIH0pO1xuICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLm5hdmJhci1jb2xsYXBzZS5zaG93XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICBsZXQgdGFyZ2V0RWxlbWVudCA9ICQoZS50YXJnZXQpLmlzKFwiYVwiKSA/ICQoZS50YXJnZXQpIDogJChlLnRhcmdldCkucGFyZW50KCk7XG4gICAgaWYgKHRhcmdldEVsZW1lbnQuaXMoXCJhXCIpICYmIHRhcmdldEVsZW1lbnQuYXR0cihcImNsYXNzXCIpICE9IFwiZHJvcGRvd24tdG9nZ2xlXCIpIHtcbiAgICAgICQodGhpcykuY29sbGFwc2UoXCJoaWRlXCIpO1xuICAgIH1cbiAgfSk7XG4gIHZhciBwdWJGaWx0ZXJzID0ge307XG4gIHZhciBzZWFyY2hSZWdleDtcbiAgdmFyIGZpbHRlclZhbHVlcztcbiAgdmFyICRncmlkX3B1YnMgPSAkKFwiI2NvbnRhaW5lci1wdWJsaWNhdGlvbnNcIik7XG4gIGlmICgkZ3JpZF9wdWJzLmxlbmd0aCkge1xuICAgICRncmlkX3B1YnMuaXNvdG9wZSh7XG4gICAgICBpdGVtU2VsZWN0b3I6IFwiLmlzb3RvcGUtaXRlbVwiLFxuICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlLFxuICAgICAgbWFzb25yeToge1xuICAgICAgICBjb2x1bW5XaWR0aDogXCIuZ3JpZC1zaXplclwiXG4gICAgICB9LFxuICAgICAgZmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgbGV0IHNlYXJjaFJlc3VsdHMgPSBzZWFyY2hSZWdleCA/ICR0aGlzLnRleHQoKS5tYXRjaChzZWFyY2hSZWdleCkgOiB0cnVlO1xuICAgICAgICBsZXQgZmlsdGVyUmVzdWx0cyA9IGZpbHRlclZhbHVlcyA/ICR0aGlzLmlzKGZpbHRlclZhbHVlcykgOiB0cnVlO1xuICAgICAgICByZXR1cm4gc2VhcmNoUmVzdWx0cyAmJiBmaWx0ZXJSZXN1bHRzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCAkcXVpY2tTZWFyY2ggPSAkKFwiLmZpbHRlci1zZWFyY2hcIikua2V5dXAoZGVib3VuY2UoZnVuY3Rpb24oKSB7XG4gICAgICBzZWFyY2hSZWdleCA9IG5ldyBSZWdFeHAoJHF1aWNrU2VhcmNoLnZhbCgpLCBcImdpXCIpO1xuICAgICAgJGdyaWRfcHVicy5pc290b3BlKCk7XG4gICAgfSkpO1xuICAgICQoXCIucHViLWZpbHRlcnNcIikub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBsZXQgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgbGV0IGZpbHRlckdyb3VwID0gJHRoaXNbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1maWx0ZXItZ3JvdXBcIik7XG4gICAgICBwdWJGaWx0ZXJzW2ZpbHRlckdyb3VwXSA9IHRoaXMudmFsdWU7XG4gICAgICBmaWx0ZXJWYWx1ZXMgPSBjb25jYXRWYWx1ZXMocHViRmlsdGVycyk7XG4gICAgICAkZ3JpZF9wdWJzLmlzb3RvcGUoKTtcbiAgICAgIGlmIChmaWx0ZXJHcm91cCA9PT0gXCJwdWJ0eXBlXCIpIHtcbiAgICAgICAgbGV0IHVybCA9ICQodGhpcykudmFsKCk7XG4gICAgICAgIGlmICh1cmwuc3Vic3RyKDAsIDkpID09PSBcIi5wdWJ0eXBlLVwiKSB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB1cmwuc3Vic3RyKDkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGRlYm91bmNlKGZuLCB0aHJlc2hvbGQpIHtcbiAgICBsZXQgdGltZW91dDtcbiAgICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTAwO1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBsZXQgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBkZWxheWVkKCkge1xuICAgICAgICBmbi5hcHBseShfdGhpcywgYXJncyk7XG4gICAgICB9XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChkZWxheWVkLCB0aHJlc2hvbGQpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY29uY2F0VmFsdWVzKG9iaikge1xuICAgIGxldCB2YWx1ZSA9IFwiXCI7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHtcbiAgICAgIHZhbHVlICs9IG9ialtwcm9wXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIGZpbHRlcl9wdWJsaWNhdGlvbnMoKSB7XG4gICAgaWYgKCEkZ3JpZF9wdWJzLmxlbmd0aClcbiAgICAgIHJldHVybjtcbiAgICBsZXQgdXJsSGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xuICAgIGxldCBmaWx0ZXJWYWx1ZSA9IFwiKlwiO1xuICAgIGlmICh1cmxIYXNoICE9IFwiXCIgJiYgIWlzTmFOKHVybEhhc2gpKSB7XG4gICAgICBmaWx0ZXJWYWx1ZSA9IFwiLnB1YnR5cGUtXCIgKyB1cmxIYXNoO1xuICAgIH1cbiAgICBsZXQgZmlsdGVyR3JvdXAgPSBcInB1YnR5cGVcIjtcbiAgICBwdWJGaWx0ZXJzW2ZpbHRlckdyb3VwXSA9IGZpbHRlclZhbHVlO1xuICAgIGZpbHRlclZhbHVlcyA9IGNvbmNhdFZhbHVlcyhwdWJGaWx0ZXJzKTtcbiAgICAkZ3JpZF9wdWJzLmlzb3RvcGUoKTtcbiAgICAkKFwiLnB1YnR5cGUtc2VsZWN0XCIpLnZhbChmaWx0ZXJWYWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgICBpZiAoJChcIiNtYXBcIikubGVuZ3RoKSB7XG4gICAgICBsZXQgbWFwX3Byb3ZpZGVyID0gJChcIiNtYXAtcHJvdmlkZXJcIikudmFsKCk7XG4gICAgICBsZXQgbGF0ID0gJChcIiNtYXAtbGF0XCIpLnZhbCgpO1xuICAgICAgbGV0IGxuZyA9ICQoXCIjbWFwLWxuZ1wiKS52YWwoKTtcbiAgICAgIGxldCB6b29tID0gcGFyc2VJbnQoJChcIiNtYXAtem9vbVwiKS52YWwoKSk7XG4gICAgICBsZXQgYWRkcmVzcyA9ICQoXCIjbWFwLWRpclwiKS52YWwoKTtcbiAgICAgIGxldCBhcGlfa2V5ID0gJChcIiNtYXAtYXBpLWtleVwiKS52YWwoKTtcbiAgICAgIGlmIChtYXBfcHJvdmlkZXIgPT09IFwiZ29vZ2xlXCIpIHtcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBHTWFwcyh7XG4gICAgICAgICAgZGl2OiBcIiNtYXBcIixcbiAgICAgICAgICBsYXQsXG4gICAgICAgICAgbG5nLFxuICAgICAgICAgIHpvb20sXG4gICAgICAgICAgem9vbUNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgem9vbUNvbnRyb2xPcHQ6IHtcbiAgICAgICAgICAgIHN0eWxlOiBcIlNNQUxMXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJUT1BfTEVGVFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG4gICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgIGdlc3R1cmVIYW5kbGluZzogXCJjb29wZXJhdGl2ZVwiXG4gICAgICAgIH0pO1xuICAgICAgICBtYXAuYWRkTWFya2VyKHtcbiAgICAgICAgICBsYXQsXG4gICAgICAgICAgbG5nLFxuICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9wbGFjZS9cIiArIGVuY29kZVVSSUNvbXBvbmVudChhZGRyZXNzKSArIFwiL0BcIiArIGxhdCArIFwiLFwiICsgbG5nICsgXCIvXCI7XG4gICAgICAgICAgICB3aW5kb3cub3Blbih1cmwsIFwiX2JsYW5rXCIpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGl0bGU6IGFkZHJlc3NcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbWFwID0gbmV3IEwubWFwKFwibWFwXCIpLnNldFZpZXcoW2xhdCwgbG5nXSwgem9vbSk7XG4gICAgICAgIGlmIChtYXBfcHJvdmlkZXIgPT09IFwibWFwYm94XCIgJiYgYXBpX2tleS5sZW5ndGgpIHtcbiAgICAgICAgICBMLnRpbGVMYXllcihcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vc3R5bGVzL3YxL3tpZH0vdGlsZXMve3p9L3t4fS97eX0/YWNjZXNzX3Rva2VuPXthY2Nlc3NUb2tlbn1cIiwge1xuICAgICAgICAgICAgYXR0cmlidXRpb246ICdNYXAgZGF0YSAmY29weTsgPGEgaHJlZj1cImh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZ1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycywgPGEgaHJlZj1cImh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuMC9cIj5DQy1CWS1TQTwvYT4sIEltYWdlcnkgXFx4QTkgPGEgaHJlZj1cImh0dHA6Ly9tYXBib3guY29tXCI+TWFwYm94PC9hPicsXG4gICAgICAgICAgICB0aWxlU2l6ZTogNTEyLFxuICAgICAgICAgICAgbWF4Wm9vbTogMTgsXG4gICAgICAgICAgICB6b29tT2Zmc2V0OiAtMSxcbiAgICAgICAgICAgIGlkOiBcIm1hcGJveC9zdHJlZXRzLXYxMVwiLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGFwaV9rZXlcbiAgICAgICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEwudGlsZUxheWVyKFwiaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmdcIiwge1xuICAgICAgICAgICAgbWF4Wm9vbTogMTksXG4gICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyA8YSBocmVmPVwiaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHRcIj5PcGVuU3RyZWV0TWFwPC9hPidcbiAgICAgICAgICB9KS5hZGRUbyhtYXApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXJrZXIgPSBMLm1hcmtlcihbbGF0LCBsbmddKS5hZGRUbyhtYXApO1xuICAgICAgICBsZXQgdXJsID0gbGF0ICsgXCIsXCIgKyBsbmcgKyBcIiNtYXA9XCIgKyB6b29tICsgXCIvXCIgKyBsYXQgKyBcIi9cIiArIGxuZyArIFwiJmxheWVycz1OXCI7XG4gICAgICAgIG1hcmtlci5iaW5kUG9wdXAoYWRkcmVzcyArICc8cD48YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvZGlyZWN0aW9ucz9lbmdpbmU9b3NybV9jYXImcm91dGU9JyArIHVybCArICdcIj5Sb3V0aW5nIHZpYSBPcGVuU3RyZWV0TWFwPC9hPjwvcD4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHJpbnRMYXRlc3RSZWxlYXNlKHNlbGVjdG9yLCByZXBvKSB7XG4gICAgaWYgKGh1Z29FbnZpcm9ubWVudCA9PT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICQuZ2V0SlNPTihcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vcmVwb3MvXCIgKyByZXBvICsgXCIvdGFnc1wiKS5kb25lKGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgbGV0IHJlbGVhc2UgPSBqc29uWzBdO1xuICAgICAgICAkKHNlbGVjdG9yKS5hcHBlbmQoXCIgXCIgKyByZWxlYXNlLm5hbWUpO1xuICAgICAgfSkuZmFpbChmdW5jdGlvbihqcXhociwgdGV4dFN0YXR1cywgZXJyb3IpIHtcbiAgICAgICAgbGV0IGVyciA9IHRleHRTdGF0dXMgKyBcIiwgXCIgKyBlcnJvcjtcbiAgICAgICAgY29uc29sZS5sb2coXCJSZXF1ZXN0IEZhaWxlZDogXCIgKyBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRvZ2dsZVNlYXJjaERpYWxvZygpIHtcbiAgICBpZiAoJChcImJvZHlcIikuaGFzQ2xhc3MoXCJzZWFyY2hpbmdcIikpIHtcbiAgICAgICQoXCJbaWQ9c2VhcmNoLXF1ZXJ5XVwiKS5ibHVyKCk7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInNlYXJjaGluZyBjb21wZW5zYXRlLWZvci1zY3JvbGxiYXJcIik7XG4gICAgICByZW1vdmVRdWVyeVBhcmFtc0Zyb21VcmwoKTtcbiAgICAgICQoXCIjZmFuY3lib3gtc3R5bGUtbm9zY3JvbGxcIikucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghJChcIiNmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiKS5sZW5ndGggJiYgZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcbiAgICAgICAgJChcImhlYWRcIikuYXBwZW5kKCc8c3R5bGUgaWQ9XCJmYW5jeWJveC1zdHlsZS1ub3Njcm9sbFwiPi5jb21wZW5zYXRlLWZvci1zY3JvbGxiYXJ7bWFyZ2luLXJpZ2h0OicgKyAod2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICsgXCJweDt9PC9zdHlsZT5cIik7XG4gICAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwiY29tcGVuc2F0ZS1mb3Itc2Nyb2xsYmFyXCIpO1xuICAgICAgfVxuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJzZWFyY2hpbmdcIik7XG4gICAgICAkKFwiLnNlYXJjaC1yZXN1bHRzXCIpLmNzcyh7b3BhY2l0eTogMCwgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJ9KS5hbmltYXRlKHtvcGFjaXR5OiAxfSwgMjAwKTtcbiAgICAgICQoXCIjc2VhcmNoLXF1ZXJ5XCIpLmZvY3VzKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUNhcm91c2VsU2xpZGVIZWlnaHRzKCkge1xuICAgICQoXCIuY2Fyb3VzZWxcIikuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGxldCBpdGVtcyA9ICQoXCIuY2Fyb3VzZWwtaXRlbVwiLCB0aGlzKTtcbiAgICAgIGl0ZW1zLmNzcyhcIm1pbi1oZWlnaHRcIiwgMCk7XG4gICAgICBsZXQgbWF4SGVpZ2h0ID0gTWF0aC5tYXguYXBwbHkobnVsbCwgaXRlbXMubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJCh0aGlzKS5vdXRlckhlaWdodCgpO1xuICAgICAgfSkuZ2V0KCkpO1xuICAgICAgaXRlbXMuY3NzKFwibWluLWhlaWdodFwiLCBtYXhIZWlnaHQgKyBcInB4XCIpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGZpeEh1Z29PdXRwdXQoKSB7XG4gICAgJChcIiNUYWJsZU9mQ29udGVudHNcIikuYWRkQ2xhc3MoXCJuYXYgZmxleC1jb2x1bW5cIik7XG4gICAgJChcIiNUYWJsZU9mQ29udGVudHMgbGlcIikuYWRkQ2xhc3MoXCJuYXYtaXRlbVwiKTtcbiAgICAkKFwiI1RhYmxlT2ZDb250ZW50cyBsaSBhXCIpLmFkZENsYXNzKFwibmF2LWxpbmtcIik7XG4gICAgJChcImlucHV0W3R5cGU9J2NoZWNrYm94J11bZGlzYWJsZWRdXCIpLnBhcmVudHMoXCJ1bFwiKS5hZGRDbGFzcyhcInRhc2stbGlzdFwiKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTaWJsaW5ncyhlbGVtKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKHNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBzaWJsaW5nICE9PSBlbGVtO1xuICAgIH0pO1xuICB9XG4gICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGZpeEh1Z29PdXRwdXQoKTtcbiAgICBsZXQge2lzRGFya1RoZW1lLCB0aGVtZU1vZGV9ID0gaW5pdFRoZW1lVmFyaWF0aW9uKCk7XG4gICAgcmVuZGVyVGhlbWVWYXJpYXRpb24oaXNEYXJrVGhlbWUsIHRoZW1lTW9kZSwgdHJ1ZSk7XG4gICAgaWYgKGNvZGVIaWdobGlnaHRpbmcpIHtcbiAgICAgIGhsanMuaW5pdEhpZ2hsaWdodGluZygpO1xuICAgIH1cbiAgICBsZXQgY2hpbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRvY3MtbGlua3MgLmFjdGl2ZVwiKTtcbiAgICBsZXQgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2NzLWxpbmtzXCIpO1xuICAgIGlmIChjaGlsZCAmJiBwYXJlbnQpIHtcbiAgICAgIHNjcm9sbFBhcmVudFRvQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgJCh3aW5kb3cpLm9uKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICBmaXhTY3JvbGxzcHkoKTtcbiAgICBsZXQgaXNvdG9wZUluc3RhbmNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdHMtY29udGFpbmVyXCIpO1xuICAgIGxldCBpc290b3BlSW5zdGFuY2VzQ291bnQgPSBpc290b3BlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggJiYgaXNvdG9wZUluc3RhbmNlc0NvdW50ID09PSAwKSB7XG4gICAgICBzY3JvbGxUb0FuY2hvcihkZWNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhhc2gpLCAwKTtcbiAgICB9XG4gICAgbGV0IGNoaWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2NzLXRvYyAubmF2LWxpbmsuYWN0aXZlXCIpO1xuICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRvY3MtdG9jXCIpO1xuICAgIGlmIChjaGlsZCAmJiBwYXJlbnQpIHtcbiAgICAgIHNjcm9sbFBhcmVudFRvQ2hpbGQocGFyZW50LCBjaGlsZCk7XG4gICAgfVxuICAgIGxldCB6b29tT3B0aW9ucyA9IHt9O1xuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikpIHtcbiAgICAgIHpvb21PcHRpb25zLmJhY2tncm91bmQgPSBcInJnYmEoMCwwLDAsMC45KVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB6b29tT3B0aW9ucy5iYWNrZ3JvdW5kID0gXCJyZ2JhKDI1NSwyNTUsMjU1LDAuOSlcIjtcbiAgICB9XG4gICAgbWVkaXVtX3pvb21fZXNtX2RlZmF1bHQoXCJbZGF0YS16b29tYWJsZV1cIiwgem9vbU9wdGlvbnMpO1xuICAgIGxldCBpc290b3BlQ291bnRlciA9IDA7XG4gICAgaXNvdG9wZUluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlzb3RvcGVJbnN0YW5jZSwgaW5kZXgpIHtcbiAgICAgIGNvbnNvbGUuZGVidWcoYExvYWRpbmcgSXNvdG9wZSBpbnN0YW5jZSAke2luZGV4fWApO1xuICAgICAgbGV0IGlzbztcbiAgICAgIGxldCBpc29TZWN0aW9uID0gaXNvdG9wZUluc3RhbmNlLmNsb3Nlc3QoXCJzZWN0aW9uXCIpO1xuICAgICAgbGV0IGxheW91dCA9IFwiXCI7XG4gICAgICBpZiAoaXNvU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmlzb3RvcGVcIikuY2xhc3NMaXN0LmNvbnRhaW5zKFwianMtbGF5b3V0LXJvd1wiKSkge1xuICAgICAgICBsYXlvdXQgPSBcImZpdFJvd3NcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxheW91dCA9IFwibWFzb25yeVwiO1xuICAgICAgfVxuICAgICAgbGV0IGRlZmF1bHRGaWx0ZXIgPSBpc29TZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuZGVmYXVsdC1wcm9qZWN0LWZpbHRlclwiKTtcbiAgICAgIGxldCBmaWx0ZXJUZXh0ID0gXCIqXCI7XG4gICAgICBpZiAoZGVmYXVsdEZpbHRlciAhPT0gbnVsbCkge1xuICAgICAgICBmaWx0ZXJUZXh0ID0gZGVmYXVsdEZpbHRlci50ZXh0Q29udGVudDtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUuZGVidWcoYERlZmF1bHQgSXNvdG9wZSBmaWx0ZXI6ICR7ZmlsdGVyVGV4dH1gKTtcbiAgICAgIGltYWdlc0xvYWRlZChpc290b3BlSW5zdGFuY2UsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpc28gPSBuZXcgSXNvdG9wZShpc290b3BlSW5zdGFuY2UsIHtcbiAgICAgICAgICBpdGVtU2VsZWN0b3I6IFwiLmlzb3RvcGUtaXRlbVwiLFxuICAgICAgICAgIGxheW91dE1vZGU6IGxheW91dCxcbiAgICAgICAgICBtYXNvbnJ5OiB7XG4gICAgICAgICAgICBndXR0ZXI6IDIwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaWx0ZXI6IGZpbHRlclRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBpc29GaWx0ZXJCdXR0b25zID0gaXNvU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnByb2plY3QtZmlsdGVycyBhXCIpO1xuICAgICAgICBpc29GaWx0ZXJCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4gYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBsZXQgc2VsZWN0b3IgPSBidXR0b24uZ2V0QXR0cmlidXRlKFwiZGF0YS1maWx0ZXJcIik7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZyhgVXBkYXRpbmcgSXNvdG9wZSBmaWx0ZXIgdG8gJHtzZWxlY3Rvcn1gKTtcbiAgICAgICAgICBpc28uYXJyYW5nZSh7ZmlsdGVyOiBzZWxlY3Rvcn0pO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgICAgICAgIGxldCBidXR0b25TaWJsaW5ncyA9IGdldFNpYmxpbmdzKGJ1dHRvbik7XG4gICAgICAgICAgYnV0dG9uU2libGluZ3MuZm9yRWFjaCgoYnV0dG9uU2libGluZykgPT4ge1xuICAgICAgICAgICAgYnV0dG9uU2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgYnV0dG9uU2libGluZy5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIGluY3JlbWVudElzb3RvcGVDb3VudGVyKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBpbmNyZW1lbnRJc290b3BlQ291bnRlcigpIHtcbiAgICAgIGlzb3RvcGVDb3VudGVyKys7XG4gICAgICBpZiAoaXNvdG9wZUNvdW50ZXIgPT09IGlzb3RvcGVJbnN0YW5jZXNDb3VudCkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGBBbGwgUG9ydGZvbGlvIElzb3RvcGUgaW5zdGFuY2VzIGxvYWRlZC5gKTtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgc2Nyb2xsVG9BbmNob3IoZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5oYXNoKSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCQoXCIucHViLWZpbHRlcnMtc2VsZWN0XCIpKSB7XG4gICAgICBmaWx0ZXJfcHVibGljYXRpb25zKCk7XG4gICAgfVxuICAgICQoXCIuanMtY2l0ZS1tb2RhbFwiKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgZmlsZW5hbWUgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWZpbGVuYW1lXCIpO1xuICAgICAgbGV0IG1vZGFsID0gJChcIiNtb2RhbFwiKTtcbiAgICAgIG1vZGFsLmZpbmQoXCIubW9kYWwtYm9keSBjb2RlXCIpLmxvYWQoZmlsZW5hbWUsIGZ1bmN0aW9uKHJlc3BvbnNlLCBzdGF0dXMsIHhocikge1xuICAgICAgICBpZiAoc3RhdHVzID09IFwiZXJyb3JcIikge1xuICAgICAgICAgIGxldCBtc2cgPSBcIkVycm9yOiBcIjtcbiAgICAgICAgICAkKFwiI21vZGFsLWVycm9yXCIpLmh0bWwobXNnICsgeGhyLnN0YXR1cyArIFwiIFwiICsgeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIuanMtZG93bmxvYWQtY2l0ZVwiKS5hdHRyKFwiaHJlZlwiLCBmaWxlbmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbW9kYWwubW9kYWwoXCJzaG93XCIpO1xuICAgIH0pO1xuICAgICQoXCIuanMtY29weS1jaXRlXCIpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICBsZXQgY29kZV9ub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtb2RhbCAubW9kYWwtYm9keVwiKTtcbiAgICAgIHJhbmdlLnNlbGVjdE5vZGUoY29kZV9ub2RlKTtcbiAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5hZGRSYW5nZShyYW5nZSk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIik7XG4gICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yOiBjaXRhdGlvbiBjb3B5IGZhaWxlZC5cIik7XG4gICAgICB9XG4gICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlUmFuZ2UocmFuZ2UpO1xuICAgIH0pO1xuICAgIGluaXRNYXAoKTtcbiAgICBsZXQgZ2l0aHViUmVsZWFzZVNlbGVjdG9yID0gXCIuanMtZ2l0aHViLXJlbGVhc2VcIjtcbiAgICBpZiAoJChnaXRodWJSZWxlYXNlU2VsZWN0b3IpLmxlbmd0aCA+IDApIHtcbiAgICAgIHByaW50TGF0ZXN0UmVsZWFzZShnaXRodWJSZWxlYXNlU2VsZWN0b3IsICQoZ2l0aHViUmVsZWFzZVNlbGVjdG9yKS5kYXRhKFwicmVwb1wiKSk7XG4gICAgfVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgIGNvbnN0IGJvZHkyID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgaWYgKGJvZHkyLmNsYXNzTGlzdC5jb250YWlucyhcInNlYXJjaGluZ1wiKSkge1xuICAgICAgICAgIHRvZ2dsZVNlYXJjaERpYWxvZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIi9cIikge1xuICAgICAgICBsZXQgZm9jdXNlZEVsZW1lbnQgPSBkb2N1bWVudC5oYXNGb2N1cygpICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgbnVsbDtcbiAgICAgICAgbGV0IGlzSW5wdXRGb2N1c2VkID0gZm9jdXNlZEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IGZvY3VzZWRFbGVtZW50IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudDtcbiAgICAgICAgaWYgKHNlYXJjaEVuYWJsZWQgJiYgIWlzSW5wdXRGb2N1c2VkKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB0b2dnbGVTZWFyY2hEaWFsb2coKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzZWFyY2hFbmFibGVkKSB7XG4gICAgICAkKFwiLmpzLXNlYXJjaFwiKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdG9nZ2xlU2VhcmNoRGlhbG9nKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcbiAgfSk7XG4gIHZhciBsaW5rTGlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmpzLXNldC10aGVtZS1saWdodFwiKTtcbiAgdmFyIGxpbmtEYXJrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zZXQtdGhlbWUtZGFya1wiKTtcbiAgdmFyIGxpbmtBdXRvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1zZXQtdGhlbWUtYXV0b1wiKTtcbiAgaWYgKGxpbmtMaWdodCAmJiBsaW5rRGFyayAmJiBsaW5rQXV0bykge1xuICAgIGxpbmtMaWdodC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY2hhbmdlVGhlbWVNb2RlQ2xpY2soMCk7XG4gICAgfSk7XG4gICAgbGlua0RhcmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNoYW5nZVRoZW1lTW9kZUNsaWNrKDEpO1xuICAgIH0pO1xuICAgIGxpbmtBdXRvLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjaGFuZ2VUaGVtZU1vZGVDbGljaygyKTtcbiAgICB9KTtcbiAgfVxuICB2YXIgZGFya01vZGVNZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpO1xuICBkYXJrTW9kZU1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgICBvbk1lZGlhUXVlcnlMaXN0RXZlbnQoZXZlbnQpO1xuICB9KTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIG5vcm1hbGl6ZUNhcm91c2VsU2xpZGVIZWlnaHRzKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbm9ybWFsaXplQ2Fyb3VzZWxTbGlkZUhlaWdodHMpO1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9yaWVudGF0aW9uY2hhbmdlXCIsIG5vcm1hbGl6ZUNhcm91c2VsU2xpZGVIZWlnaHRzKTtcbiAgJChcImJvZHlcIikub24oXCJtb3VzZWVudGVyIG1vdXNlbGVhdmVcIiwgXCIuZHJvcGRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgIHZhciBkcm9wZG93biA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoXCIuZHJvcGRvd25cIik7XG4gICAgdmFyIG1lbnUgPSAkKFwiLmRyb3Bkb3duLW1lbnVcIiwgZHJvcGRvd24pO1xuICAgIGRyb3Bkb3duLmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICBtZW51LmFkZENsYXNzKFwic2hvd1wiKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgZHJvcGRvd25bZHJvcGRvd24uaXMoXCI6aG92ZXJcIikgPyBcImFkZENsYXNzXCIgOiBcInJlbW92ZUNsYXNzXCJdKFwic2hvd1wiKTtcbiAgICAgIG1lbnVbZHJvcGRvd24uaXMoXCI6aG92ZXJcIikgPyBcImFkZENsYXNzXCIgOiBcInJlbW92ZUNsYXNzXCJdKFwic2hvd1wiKTtcbiAgICB9LCAzMDApO1xuICB9KTtcbiAgdmFyIHJlc2l6ZVRpbWVyO1xuICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgIGNsZWFyVGltZW91dChyZXNpemVUaW1lcik7XG4gICAgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZpeFNjcm9sbHNweSwgMjAwKTtcbiAgfSk7XG59KSgpO1xuLyohIG1lZGl1bS16b29tIDEuMC42IHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZnJhbmNvaXNjaGFsaWZvdXIvbWVkaXVtLXpvb20gKi9cblxuO1xuKCgpID0+IHtcbiAgLy8gbnMtcGFyYW1zOkBwYXJhbXNcbiAgdmFyIGNvbnRlbnRfdHlwZSA9IHthdXRob3JzOiBcIkF1dGhvcnNcIiwgZXZlbnQ6IFwiRXZlbnRzXCIsIHBvc3Q6IFwiUG9zdHNcIiwgcHJvamVjdDogXCJQcm9qZWN0c1wiLCBwdWJsaWNhdGlvbjogXCJQdWJsaWNhdGlvbnNcIiwgc2xpZGVzOiBcIlNsaWRlc1wifTtcbiAgdmFyIGkxOG4gPSB7bm9fcmVzdWx0czogXCJObyByZXN1bHRzIGZvdW5kXCIsIHBsYWNlaG9sZGVyOiBcIlNlYXJjaC4uLlwiLCByZXN1bHRzOiBcInJlc3VsdHMgZm91bmRcIn07XG4gIHZhciBzZWFyY2hfY29uZmlnID0ge2luZGV4VVJJOiBcIi9pbmRleC5qc29uXCIsIG1pbkxlbmd0aDogMSwgdGhyZXNob2xkOiAwLjN9O1xuXG4gIC8vIDxzdGRpbj5cbiAgdmFyIGZ1c2VPcHRpb25zID0ge1xuICAgIHNob3VsZFNvcnQ6IHRydWUsXG4gICAgaW5jbHVkZU1hdGNoZXM6IHRydWUsXG4gICAgdG9rZW5pemU6IHRydWUsXG4gICAgdGhyZXNob2xkOiBzZWFyY2hfY29uZmlnLnRocmVzaG9sZCxcbiAgICBsb2NhdGlvbjogMCxcbiAgICBkaXN0YW5jZTogMTAwLFxuICAgIG1heFBhdHRlcm5MZW5ndGg6IDMyLFxuICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogc2VhcmNoX2NvbmZpZy5taW5MZW5ndGgsXG4gICAga2V5czogW1xuICAgICAge25hbWU6IFwidGl0bGVcIiwgd2VpZ2h0OiAwLjk5fSxcbiAgICAgIHtuYW1lOiBcInN1bW1hcnlcIiwgd2VpZ2h0OiAwLjZ9LFxuICAgICAge25hbWU6IFwiYXV0aG9yc1wiLCB3ZWlnaHQ6IDAuNX0sXG4gICAgICB7bmFtZTogXCJjb250ZW50XCIsIHdlaWdodDogMC4yfSxcbiAgICAgIHtuYW1lOiBcInRhZ3NcIiwgd2VpZ2h0OiAwLjV9LFxuICAgICAge25hbWU6IFwiY2F0ZWdvcmllc1wiLCB3ZWlnaHQ6IDAuNX1cbiAgICBdXG4gIH07XG4gIHZhciBzdW1tYXJ5TGVuZ3RoID0gNjA7XG4gIGZ1bmN0aW9uIGdldFNlYXJjaFF1ZXJ5KG5hbWUpIHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KChsb2NhdGlvbi5zZWFyY2guc3BsaXQobmFtZSArIFwiPVwiKVsxXSB8fCBcIlwiKS5zcGxpdChcIiZcIilbMF0pLnJlcGxhY2UoL1xcKy9nLCBcIiBcIik7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlVVJMKHVybCkge1xuICAgIGlmIChoaXN0b3J5LnJlcGxhY2VTdGF0ZSkge1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHtwYXRoOiB1cmx9LCBcIlwiLCB1cmwpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpbml0U2VhcmNoKGZvcmNlLCBmdXNlKSB7XG4gICAgbGV0IHF1ZXJ5ID0gJChcIiNzZWFyY2gtcXVlcnlcIikudmFsKCk7XG4gICAgaWYgKHF1ZXJ5Lmxlbmd0aCA8IDEpIHtcbiAgICAgICQoXCIjc2VhcmNoLWhpdHNcIikuZW1wdHkoKTtcbiAgICAgICQoXCIjc2VhcmNoLWNvbW1vbi1xdWVyaWVzXCIpLnNob3coKTtcbiAgICB9XG4gICAgaWYgKCFmb3JjZSAmJiBxdWVyeS5sZW5ndGggPCBmdXNlT3B0aW9ucy5taW5NYXRjaENoYXJMZW5ndGgpXG4gICAgICByZXR1cm47XG4gICAgJChcIiNzZWFyY2gtaGl0c1wiKS5lbXB0eSgpO1xuICAgICQoXCIjc2VhcmNoLWNvbW1vbi1xdWVyaWVzXCIpLmhpZGUoKTtcbiAgICBzZWFyY2hBY2FkZW1pYyhxdWVyeSwgZnVzZSk7XG4gICAgbGV0IG5ld1VSTCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgXCI/cT1cIiArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSkgKyB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICB1cGRhdGVVUkwobmV3VVJMKTtcbiAgfVxuICBmdW5jdGlvbiBzZWFyY2hBY2FkZW1pYyhxdWVyeSwgZnVzZSkge1xuICAgIGxldCByZXN1bHRzID0gZnVzZS5zZWFyY2gocXVlcnkpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICQoXCIjc2VhcmNoLWhpdHNcIikuYXBwZW5kKCc8aDMgY2xhc3M9XCJtdC0wXCI+JyArIHJlc3VsdHMubGVuZ3RoICsgXCIgXCIgKyBpMThuLnJlc3VsdHMgKyBcIjwvaDM+XCIpO1xuICAgICAgcGFyc2VSZXN1bHRzKHF1ZXJ5LCByZXN1bHRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJChcIiNzZWFyY2gtaGl0c1wiKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzZWFyY2gtbm8tcmVzdWx0c1wiPicgKyBpMThuLm5vX3Jlc3VsdHMgKyBcIjwvZGl2PlwiKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGFyc2VSZXN1bHRzKHF1ZXJ5LCByZXN1bHRzKSB7XG4gICAgJC5lYWNoKHJlc3VsdHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIGxldCBjb250ZW50X2tleSA9IHZhbHVlLml0ZW0uc2VjdGlvbjtcbiAgICAgIGxldCBjb250ZW50ID0gXCJcIjtcbiAgICAgIGxldCBzbmlwcGV0ID0gXCJcIjtcbiAgICAgIGxldCBzbmlwcGV0SGlnaGxpZ2h0cyA9IFtdO1xuICAgICAgaWYgKFtcInB1YmxpY2F0aW9uXCIsIFwiZXZlbnRcIl0uaW5jbHVkZXMoY29udGVudF9rZXkpKSB7XG4gICAgICAgIGNvbnRlbnQgPSB2YWx1ZS5pdGVtLnN1bW1hcnk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gdmFsdWUuaXRlbS5jb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKGZ1c2VPcHRpb25zLnRva2VuaXplKSB7XG4gICAgICAgIHNuaXBwZXRIaWdobGlnaHRzLnB1c2gocXVlcnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJC5lYWNoKHZhbHVlLm1hdGNoZXMsIGZ1bmN0aW9uKG1hdGNoS2V5LCBtYXRjaFZhbHVlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoVmFsdWUua2V5ID09IFwiY29udGVudFwiKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBtYXRjaFZhbHVlLmluZGljZXNbMF1bMF0gLSBzdW1tYXJ5TGVuZ3RoID4gMCA/IG1hdGNoVmFsdWUuaW5kaWNlc1swXVswXSAtIHN1bW1hcnlMZW5ndGggOiAwO1xuICAgICAgICAgICAgbGV0IGVuZCA9IG1hdGNoVmFsdWUuaW5kaWNlc1swXVsxXSArIHN1bW1hcnlMZW5ndGggPCBjb250ZW50Lmxlbmd0aCA/IG1hdGNoVmFsdWUuaW5kaWNlc1swXVsxXSArIHN1bW1hcnlMZW5ndGggOiBjb250ZW50Lmxlbmd0aDtcbiAgICAgICAgICAgIHNuaXBwZXQgKz0gY29udGVudC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICBzbmlwcGV0SGlnaGxpZ2h0cy5wdXNoKG1hdGNoVmFsdWUudmFsdWUuc3Vic3RyaW5nKG1hdGNoVmFsdWUuaW5kaWNlc1swXVswXSwgbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzFdIC0gbWF0Y2hWYWx1ZS5pbmRpY2VzWzBdWzBdICsgMSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoc25pcHBldC5sZW5ndGggPCAxKSB7XG4gICAgICAgIHNuaXBwZXQgKz0gdmFsdWUuaXRlbS5zdW1tYXJ5O1xuICAgICAgfVxuICAgICAgbGV0IHRlbXBsYXRlID0gJChcIiNzZWFyY2gtaGl0LWZ1c2UtdGVtcGxhdGVcIikuaHRtbCgpO1xuICAgICAgaWYgKGNvbnRlbnRfa2V5IGluIGNvbnRlbnRfdHlwZSkge1xuICAgICAgICBjb250ZW50X2tleSA9IGNvbnRlbnRfdHlwZVtjb250ZW50X2tleV07XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGVEYXRhID0ge1xuICAgICAgICBrZXksXG4gICAgICAgIHRpdGxlOiB2YWx1ZS5pdGVtLnRpdGxlLFxuICAgICAgICB0eXBlOiBjb250ZW50X2tleSxcbiAgICAgICAgcmVscGVybWFsaW5rOiB2YWx1ZS5pdGVtLnJlbHBlcm1hbGluayxcbiAgICAgICAgc25pcHBldFxuICAgICAgfTtcbiAgICAgIGxldCBvdXRwdXQgPSByZW5kZXIodGVtcGxhdGUsIHRlbXBsYXRlRGF0YSk7XG4gICAgICAkKFwiI3NlYXJjaC1oaXRzXCIpLmFwcGVuZChvdXRwdXQpO1xuICAgICAgJC5lYWNoKHNuaXBwZXRIaWdobGlnaHRzLCBmdW5jdGlvbihobEtleSwgaGxWYWx1ZSkge1xuICAgICAgICAkKFwiI3N1bW1hcnktXCIgKyBrZXkpLm1hcmsoaGxWYWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXIodGVtcGxhdGUsIGRhdGEpIHtcbiAgICBsZXQga2V5LCBmaW5kLCByZTtcbiAgICBmb3IgKGtleSBpbiBkYXRhKSB7XG4gICAgICBmaW5kID0gXCJcXFxce1xcXFx7XFxcXHMqXCIgKyBrZXkgKyBcIlxcXFxzKlxcXFx9XFxcXH1cIjtcbiAgICAgIHJlID0gbmV3IFJlZ0V4cChmaW5kLCBcImdcIik7XG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlLnJlcGxhY2UocmUsIGRhdGFba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuICBpZiAodHlwZW9mIEZ1c2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICQuZ2V0SlNPTihzZWFyY2hfY29uZmlnLmluZGV4VVJJLCBmdW5jdGlvbihzZWFyY2hfaW5kZXgpIHtcbiAgICAgIGxldCBmdXNlID0gbmV3IEZ1c2Uoc2VhcmNoX2luZGV4LCBmdXNlT3B0aW9ucyk7XG4gICAgICBsZXQgcXVlcnkgPSBnZXRTZWFyY2hRdWVyeShcInFcIik7XG4gICAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJzZWFyY2hpbmdcIik7XG4gICAgICAgICQoXCIuc2VhcmNoLXJlc3VsdHNcIikuY3NzKHtvcGFjaXR5OiAwLCB2aXNpYmlsaXR5OiBcInZpc2libGVcIn0pLmFuaW1hdGUoe29wYWNpdHk6IDF9LCAyMDApO1xuICAgICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS52YWwocXVlcnkpO1xuICAgICAgICAkKFwiI3NlYXJjaC1xdWVyeVwiKS5mb2N1cygpO1xuICAgICAgICBpbml0U2VhcmNoKHRydWUsIGZ1c2UpO1xuICAgICAgfVxuICAgICAgJChcIiNzZWFyY2gtcXVlcnlcIikua2V5dXAoZnVuY3Rpb24oZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQoJC5kYXRhKHRoaXMsIFwic2VhcmNoVGltZXJcIikpO1xuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7XG4gICAgICAgICAgaW5pdFNlYXJjaCh0cnVlLCBmdXNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKHRoaXMpLmRhdGEoXCJzZWFyY2hUaW1lclwiLCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5pdFNlYXJjaChmYWxzZSwgZnVzZSk7XG4gICAgICAgICAgfSwgMjUwKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KSgpO1xuXG47XG4vKipcclxuICogXHJcbiAqXHRCdWJibGUgUGllY2UgKGluZXJoaXRzIGZyb20gUGllY2UpXHJcbiAqIFxyXG4qL1xyXG5mdW5jdGlvbiBCdWJibGVQaWVjZShvcHRzKXtcclxuXHRQaWVjZS5jYWxsKHRoaXMsIG9wdHMpO1xyXG5cclxuXHR2YXIgZGVmYXVsdHMgPSB7XHJcblx0XHR4IDogMCxcclxuXHRcdHkgOiAwLFxyXG5cdFx0c2NhbGUgOiAxLFxyXG5cdFx0aW1nIDogbnVsbCxcclxuXHRcdC8vTmF0dXJhbCBkaW1lbnNpb25zXHJcblx0XHRpbWdfd2lkdGggOiAwLFxyXG5cdFx0aW1nX2hlaWdodCA6IDAsXHJcblx0XHRqaXR0ZXJfZmFjdG9yIDogMSxcclxuXHRcdGppdHRlcl9yYWRpdXMgOiAxMCxcclxuXHRcdGppdHRlcl9zcGVlZCA6IDEwMDBcclxuXHR9O1xyXG5cclxuXHJcblx0dmFyIF9vcHRzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRzKTtcclxuXHR0aGlzLnBvaW50ID0gbmV3IFBvaW50KF9vcHRzLngsIF9vcHRzLnkpO1xyXG5cdHRoaXMucHJlc2VudGF0aW9uUG9pbnQgPSBuZXcgUG9pbnQoX29wdHMueCwgX29wdHMueSk7XHJcblx0dGhpcy5zY2FsZSA9IF9vcHRzLnNjYWxlO1xyXG5cclxuXHR0aGlzLmltZyA9IF9vcHRzLmltZztcclxuXHR0aGlzLmltZ193aWR0aCA9IF9vcHRzLmltZ193aWR0aDtcclxuXHR0aGlzLmltZ19oZWlnaHQgPSBfb3B0cy5pbWdfaGVpZ2h0O1xyXG5cclxuXHQvL0ppdHRlclxyXG5cdHRoaXMuaml0dGVyX2ZhY3RvciA9IF9vcHRzLmppdHRlcl9mYWN0b3I7XHJcblx0dGhpcy5qaXR0ZXJfcmFkaXVzID0gX29wdHMuaml0dGVyX3JhZGl1cztcclxuXHR0aGlzLmppdHRlcl9zcGVlZCA9IF9vcHRzLmppdHRlcl9zcGVlZDtcclxufVxyXG5cclxuQnViYmxlUGllY2UucHJvdG90eXBlID0gbmV3IFBpZWNlKCk7XHJcbkJ1YmJsZVBpZWNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJ1YmJsZVBpZWNlO1xyXG5cclxuQnViYmxlUGllY2UucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihjYW52YXMpe1xyXG5cclxuXHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdC8vVXBkYXRlXHJcblx0c2VsZi51cGRhdGUoKTtcclxuXHJcblx0Ly9EcmF3XHJcblx0dmFyIHBvaW50ID0gc2VsZi5qaXR0ZXIoc2VsZi5wcmVzZW50YXRpb25Qb2ludCk7XHJcblxyXG5cdHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHR2YXIgc2NhbGVkX3dpZHRoID0gc2VsZi5zY2FsZSAqIHNlbGYuaW1nX3dpZHRoO1xyXG5cdHZhciBzY2FsZWRfaGVpZ2h0ID0gc2VsZi5zY2FsZSAqIHNlbGYuaW1nX2hlaWdodDtcclxuXHJcblx0Y3R4LmRyYXdJbWFnZShzZWxmLmltZ1swXSwgcG9pbnQueCAtIChzY2FsZWRfd2lkdGgvMiksIHBvaW50LnkgLSAoc2NhbGVkX2hlaWdodC8yKSwgc2NhbGVkX3dpZHRoLCBzY2FsZWRfaGVpZ2h0ICk7XHJcblxyXG59O1xyXG5cclxuXHJcblxyXG5CdWJibGVQaWVjZS5wcm90b3R5cGUuaml0dGVyID0gZnVuY3Rpb24oc291cmNlKXtcclxuXHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHR2YXIgcG9pbnQgPSBuZXcgUG9pbnQoc291cmNlLngsIHNvdXJjZS55KTtcclxuXHJcblx0LyoqXHJcblx0ICogXHRDaXJjdWxhciBvcmJpdFxyXG5cdCAqIFx0LSB4ID0gY3ggKyByICogY29zKGEpXHJcblx0ICogXHQtIHkgPSBjeSArIHIgKiBzaW4oYSlcclxuXHQgKiBcdG5vdGUgQSBpcyBpbiByYWRpYW5zXHJcblx0ICovXHJcblx0IFxyXG5cdC8vSG93IGZhc3QgZm9yIGEgZnVsbCByb3RhdGlvbiAzNjBkZWcgb3IgMlBJXHJcblx0dmFyIHNwZWVkID0gc2VsZi5qaXR0ZXJfc3BlZWQ7XHJcblx0XHJcblx0Ly9DYWxjdWxhdGUgcGhhc2VcclxuXHR2YXIgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0dmFyIHJlbSA9IG5vdyAlIHNwZWVkO1xyXG5cdHZhciBwaGFzZSA9IHJlbS9zcGVlZDtcclxuXHR2YXIgYW5nbGUgPSBwaGFzZSAqICgyICogTWF0aC5QSSk7XHJcblx0dmFyIHJhZGl1cyA9IHNlbGYuaml0dGVyX3JhZGl1cyAqIHNlbGYuaml0dGVyX2ZhY3RvcjtcclxuXHJcblx0cG9pbnQueCA9IHBvaW50LnggKyByYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSk7XHJcblx0cG9pbnQueSA9IHBvaW50LnkgKyByYWRpdXMgKiBNYXRoLnNpbihhbmdsZSk7XHJcblx0XHJcblxyXG5cdHJldHVybiBwb2ludDtcclxufTtcclxuXG47XG4vKlxyXG5cdENpcmNsZSBQaWVjZVxyXG4qL1xyXG5mdW5jdGlvbiBDaXJjbGVQaWVjZShvcHRzKXtcclxuXHRQaWVjZS5jYWxsKHRoaXMsIG9wdHMpO1xyXG5cclxuXHR2YXIgZGVmYXVsdHMgPSB7XHJcblx0XHR4IDogMCxcclxuXHRcdHkgOiAwLFxyXG5cdFx0cmFkaXVzIDogNSxcclxuXHRcdGZpbGxTdHlsZSA6ICdyZ2JhKDAsMCwwLDEpJyxcclxuICAgICAgICBqaXR0ZXJfZmFjdG9yIDogMSxcclxuXHRcdGppdHRlcl9yYWRpdXMgOiAxMCxcclxuXHRcdGppdHRlcl9zcGVlZCA6IDEwMDBcclxuXHR9O1xyXG5cclxuXHR2YXIgX29wdHMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdHMpO1xyXG5cdHRoaXMucG9pbnQgPSBuZXcgUG9pbnQoX29wdHMueCwgX29wdHMueSk7XHJcblx0dGhpcy5wcmVzZW50YXRpb25Qb2ludCA9IG5ldyBQb2ludChfb3B0cy54LCBfb3B0cy55KTtcclxuXHR0aGlzLnJhZGl1cyA9IF9vcHRzLnJhZGl1cztcclxuXHR0aGlzLmZpbGxTdHlsZSA9IF9vcHRzLmZpbGxTdHlsZTtcclxuXHJcblx0Ly9KaXR0ZXJcclxuXHR0aGlzLmppdHRlcl9mYWN0b3IgPSBfb3B0cy5qaXR0ZXJfZmFjdG9yO1xyXG5cdHRoaXMuaml0dGVyX3JhZGl1cyA9IF9vcHRzLmppdHRlcl9yYWRpdXM7XHJcblx0dGhpcy5qaXR0ZXJfc3BlZWQgPSBfb3B0cy5qaXR0ZXJfc3BlZWQ7XHJcbn1cclxuXHJcbkNpcmNsZVBpZWNlLnByb3RvdHlwZSA9IG5ldyBQaWVjZSgpO1xyXG5DaXJjbGVQaWVjZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDaXJjbGVQaWVjZTtcclxuXHJcbkNpcmNsZVBpZWNlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oY2FudmFzKXtcclxuXHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHQvL1VwZGF0ZVxyXG5cdHNlbGYudXBkYXRlKCk7XHJcblxyXG5cdC8vRHJhd1xyXG5cdHZhciBwb2ludCA9IHNlbGYuaml0dGVyKHNlbGYucHJlc2VudGF0aW9uUG9pbnQpO1xyXG5cclxuXHR2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblx0Y3R4LmJlZ2luUGF0aCgpO1xyXG5cdGN0eC5hcmMocG9pbnQueCwgcG9pbnQueSwgc2VsZi5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSApO1xyXG5cdGN0eC5maWxsU3R5bGUgPSBzZWxmLmZpbGxTdHlsZTtcclxuXHRjdHguZmlsbCgpO1xyXG5cclxufTtcclxuXHJcbkNpcmNsZVBpZWNlLnByb3RvdHlwZS5qaXR0ZXIgPSBmdW5jdGlvbihzb3VyY2Upe1xyXG5cclxuXHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdHZhciBwb2ludCA9IG5ldyBQb2ludChzb3VyY2UueCwgc291cmNlLnkpO1xyXG5cclxuXHQvKipcclxuXHQgKiBcdENpcmN1bGFyIG9yYml0XHJcblx0ICogXHQtIHggPSBjeCArIHIgKiBjb3MoYSlcclxuXHQgKiBcdC0geSA9IGN5ICsgciAqIHNpbihhKVxyXG5cdCAqIFx0bm90ZSBBIGlzIGluIHJhZGlhbnNcclxuXHQgKi9cclxuXHQgXHJcblx0Ly9Ib3cgZmFzdCBmb3IgYSBmdWxsIHJvdGF0aW9uIDM2MGRlZyBvciAyUElcclxuXHR2YXIgc3BlZWQgPSBzZWxmLmppdHRlcl9zcGVlZDtcclxuXHRcclxuXHQvL0NhbGN1bGF0ZSBwaGFzZVxyXG5cdHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHR2YXIgcmVtID0gbm93ICUgc3BlZWQ7XHJcblx0dmFyIHBoYXNlID0gcmVtL3NwZWVkO1xyXG5cdHZhciBhbmdsZSA9IHBoYXNlICogKDIgKiBNYXRoLlBJKTtcclxuXHR2YXIgcmFkaXVzID0gc2VsZi5qaXR0ZXJfcmFkaXVzICogc2VsZi5qaXR0ZXJfZmFjdG9yO1xyXG5cclxuXHRwb2ludC54ID0gcG9pbnQueCArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKTtcclxuXHRwb2ludC55ID0gcG9pbnQueSArIHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKTtcclxuXHRcclxuXHJcblx0cmV0dXJuIHBvaW50O1xyXG59O1xyXG5cbjtcblxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIFx0SGVscGVyIEZ1bmN0aW9uc1xyXG4gKiBcdFxyXG4gKi9cclxudmFyIEhlbHBlcnMgPSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFx0UmFuZG9tXHJcblx0ICogXHQtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL01hdGgvcmFuZG9tXHJcblx0ICogXHRcclxuXHQgKi9cclxuXHRSYW5kb20gOiB7XHJcblxyXG5cdFx0Z2V0UmFuZG9tSW50IDogZnVuY3Rpb24obWluLG1heCl7XHJcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldFJhbmRvbUludEluY2x1c2l2ZSA6IGZ1bmN0aW9uKG1pbixtYXgpe1xyXG5cdFx0XHRyZXR1cm4gSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50KG1pbixtYXgrMSk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGdldFJhbmRvbUluZGV4IDogZnVuY3Rpb24oc291cmNlX2FycmF5KXtcclxuXHRcdFx0dmFyIG1pbiA9IDA7XHJcblx0XHRcdHZhciBtYXggPSBzb3VyY2VfYXJyYXkubGVuZ3RoO1xyXG5cdFx0XHR2YXIgaW5kZXggPSBIZWxwZXJzLlJhbmRvbS5nZXRSYW5kb21JbnQoIDAsIG1heCApO1xyXG5cdFx0XHRyZXR1cm4gaW5kZXg7XHJcblx0XHR9XHJcblxyXG5cdH0sXHJcblxyXG5cclxuXHQvKipcclxuXHQgKiAgXHJcblx0ICogIEVhc2luZyBmdW5jdGlvbnNcclxuXHQgKiAgaHR0cDovL2dpem1hLmNvbS9lYXNpbmcvXHJcblx0ICogIHQgOiBjdXJyZW50IHRpbWVcclxuXHQgKiAgYiA6IHN0YXJ0IHZhbHVlXHJcblx0ICogIGMgOiBjaGFuZ2UgaW4gdmFsdWVcclxuXHQgKiAgZCA6IGR1cmF0aW9uXHJcblx0ICogIFxyXG5cdCAqL1xyXG5cdEVhc2luZyA6IHtcclxuXHJcblx0XHRsaW5lYXIgOiBmdW5jdGlvbih0LGIsYyxkKXtcclxuXHRcdFx0cmV0dXJuIGMqdC9kICsgYjtcclxuXHRcdH0sXHJcblxyXG5cdFx0ZWFzZUluT3V0UXVhZCA6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcblx0XHRcdHQgLz0gZC8yO1xyXG5cdFx0XHRpZiAodCA8IDEpIHJldHVybiBjLzIqdCp0ICsgYjtcclxuXHRcdFx0dC0tO1xyXG5cdFx0XHRyZXR1cm4gLWMvMiAqICh0Kih0LTIpIC0gMSkgKyBiO1xyXG5cdFx0fSxcclxuXHJcblx0XHRlYXNlT3V0UXVhZCA6IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XHJcblx0XHRcdHQgLz0gZDtcclxuXHRcdFx0cmV0dXJuIC1jICogdCoodC0yKSArIGI7XHJcblx0XHR9LFxyXG5cdFx0XHJcblx0XHRlYXNlSW5RdWFkIDogZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcclxuXHRcdFx0dCAvPSBkO1xyXG5cdFx0XHRyZXR1cm4gYyp0KnQgKyBiO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdFxyXG5cclxufTtcclxuXHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBcdFBvaW50IFN0cnVjdFxyXG4gKiBcdFxyXG4gKi9cclxuZnVuY3Rpb24gUG9pbnQoeCx5KXtcclxuXHR0aGlzLnggPSB4O1xyXG5cdHRoaXMueSA9IHk7XHJcbn07XG47XG52YXIgY2FudmFzLCBjYW52YXNfZG9tO1xyXG52YXIgc2hhcGVzLCBwaWVjZV9jb2xsZWN0aW9uO1xyXG52YXIgcmVuZGVyZXI7XHJcbnZhciBjdXJyZW50X3NoYXBlID0gJ2JsYW5rY2FudmFzJztcclxudmFyIGltZ05hbWVzID0gWyBcImVtZXJnZVwiLCBcInN5c3RlbVRoaW5raW5nXCIsIFwicHJvY2Vzc1wiLCBcImR5bmFtaWNzXCIsIFwidGVhbXNcIiwgXCJsZWFybmluZ1wiLCBcImRlY2lzaW9uc1wiIF1cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgaWYoJCgnc2VjdGlvbicpLmlzKFwiI3N3YXJtLWJhbm5lclwiKSkge1xyXG4gICAgY2FudmFzX2RvbSA9ICQoJyNjYW52YXMnKTtcclxuICAgIGNhbnZhcyA9IGNhbnZhc19kb21bMF07XHJcblxyXG4gICAgdmFyIHdpbmRvd193aWR0aCA9ICQoXCIjc3dhcm0tYmFubmVyIC5jb250YWluZXJcIikud2lkdGgoKTtcclxuICAgIHZhciB3aW5kb3dfaGVpZ2h0ID0gJChcIiNzd2FybS1iYW5uZXJcIikuaGVpZ2h0KCk7XHJcblxyXG4gICAgY2FudmFzLndpZHRoID0gd2luZG93X3dpZHRoICogMjtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3dfaGVpZ2h0ICogMjtcclxuICAgIGNhbnZhc19kb20uY3NzKHtcclxuICAgICAgd2lkdGg6IHdpbmRvd193aWR0aCxcclxuICAgICAgaGVpZ2h0OiB3aW5kb3dfaGVpZ2h0XHJcbiAgICB9KTtcclxuXHJcbiAgICBpbml0U2hhcGVzKCk7XHJcbiAgICBpbml0UGFydGljbGVzKCk7XHJcblxyXG4gICAgLy9Tb21lIHNpbXBsZSByZXNpemUtaGFuZGxpbmcgZm9yIGFlc3RoZXRpY3M6IHdlIHJlc2l6ZSB0aGUgY2FudmFzIHJlY3JlYXRlIHRoZSBjdXJyZW50IHNoYXBlIG9udG8gdGhlIG5ld2x5IHNpemVkIGNhbnZhc1xyXG4gICAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xyXG4gICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgcmVuZGVyZXIuc3RvcCgpO1xyXG5cclxuICAgICAgICB2YXIgd2luZG93X3dpZHRoID0gJChcIiNzd2FybS1iYW5uZXIgLmNvbnRhaW5lclwiKS53aWR0aCgpO1xyXG4gICAgICAgIHZhciB3aW5kb3dfaGVpZ2h0ID0gJChcIiNzd2FybS1iYW5uZXJcIikuaGVpZ2h0KCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvd193aWR0aCAqIDI7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHdpbmRvd19oZWlnaHQgKiAyO1xyXG4gICAgICAgIGNhbnZhc19kb20uY3NzKHtcclxuICAgICAgICAgIHdpZHRoOiB3aW5kb3dfd2lkdGgsXHJcbiAgICAgICAgICBoZWlnaHQ6IHdpbmRvd19oZWlnaHRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9SZWluaXRpYWxpemUgc2hhcGUgdG8gcmVzZXQgY2VudHJlc1xyXG4gICAgICAgIHJlY2VudGVyU2hhcGVzKCk7XHJcbiAgICAgICAgbWFrZVNoYXBlKHNoYXBlcy5nZXQoY3VycmVudF9zaGFwZSkpO1xyXG5cclxuICAgICAgICByZW5kZXJlci5zdGFydCgpO1xyXG5cclxuICAgICAgfSwgMjUwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIExvb3AgZm9yIGN5Y2xpbmcgdGhyb3VnaCBpbWFnZXNcclxuICAgIHZhciBpbWdDbnRyID0gMDtcclxuICAgIHNldEludGVydmFsKGltZ0xvb3AsIDUwMDApO1xyXG5cclxuICAgIGZ1bmN0aW9uIGltZ0xvb3AoKSB7XHJcbiAgICAgIHZhciBzaGFwZV9uYW1lID0gaW1nTmFtZXNbaW1nQ250cl07XHJcbiAgICAgIHZhciBzaGFwZSA9IHNoYXBlcy5nZXQoc2hhcGVfbmFtZSk7XHJcbiAgICAgIGlmIChzaGFwZSkge1xyXG4gICAgICAgIGN1cnJlbnRfc2hhcGUgPSBzaGFwZV9uYW1lO1xyXG4gICAgICAgIG1ha2VTaGFwZShzaGFwZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGltZ0NudHIrKztcclxuXHJcbiAgICAgIGlmIChpbWdDbnRyID49IGltZ05hbWVzLmxlbmd0aCkge1xyXG4gICAgICAgIGltZ0NudHIgPSAwXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gaW5pdFNoYXBlcygpIHtcclxuXHJcbiAgc2hhcGVzID0gbmV3IFNoYXBlc0NvbGxlY3Rpb24oKTtcclxuXHJcbiAgLyoqXHJcbiAgICogXHRJbml0aWFsaXplIGEgc2hhcGUgd2l0aCBqdXN0IHJlY3Rhbmd1bGFyIGRpbWVuc2lvbnMgKG5vdCBhbiBpbWFnZSlcclxuICAgKlxyXG4gICAqIFx0U3ByZWFkOlxyXG4gICAqIFx0SWYgc3BlY2lmaWVkIHRoZSBpbWFnZSB3aWxsIGJlIGRpdmlkZWQgYnkgdGhlIHNwcmVhZCBmYWN0b3IgdG8gcmVkdWNlIHRoZSBudW1iZXIgYXZhaWxhYmxlIHBpeGVscy4gVGhlIGF2YWlsYWJsZSBwaXhlbHNcclxuICAgKiBcdGFyZSB0aGVuIHJlYWRqdXN0ZWQgYmFjayB1cCB3aXRoIHRoZSBzcHJlYWQgZmFjdG9yLCB0aGlzIGlzIGRvbmUgdG8gZW5jb3VyYWdlIG1vcmUgc3BhY2UgYmV0d2VlbiBwYXJ0aWNsZXMuXHJcbiAgICovXHJcbiAgc2hhcGVzLmFkZCgnYmxhbmtjYW52YXMnLCBuZXcgU2hhcGUoe1xyXG4gICAgd2lkdGg6IGNhbnZhcy53aWR0aCArIDQwMCxcclxuICAgIGhlaWdodDogY2FudmFzLmhlaWdodCArIDQwMCxcclxuICAgIG9mZnNldDoge1xyXG4gICAgICB4OiAtMjAwLFxyXG4gICAgICB5OiAtMjAwXHJcbiAgICB9LFxyXG4gICAgc3ByZWFkOiA1XHJcbiAgfSkpO1xyXG5cclxuICAvKipcclxuICAgKiBcclxuICAgKlx0VGVtcGxhdGUgSW1hZ2VzOlxyXG4gICAqXHRcdC0gaW1nL2NpcmNsZS5wbmcgKG5hdHVyYWwgZGltZW5zaW9ucyAxMDAgeCAxMDApXHJcbiAgICpcdFx0LSBpbWcvdHJpYW5nbGUucG5nIChuYXR1cmFsIGRpbWVuc2lvbnMgMTAwIHggMTAwKVxyXG4gICAqXHRcdC0gaW1nL2hlYXJ0LnBuZyAobmF0dXJhbCBkaW1lbnNpb25zIDUwMCB4IDUwMClcclxuICAgKlx0XHQtIGltZy9sZWUucG5nIChuYXR1cmFsIGRpbWVuc2lvbnMgMzc5IHggNDkyKVxyXG4gICAqXHJcbiAgICogXHRub3RlOlxyXG4gICAqIFx0VGhlIGFjdHVhbCBzaGFwZSB0ZW1wbGF0ZSBtYXkgcmVzY2FsZSBhbmQgcmVwb3NpdGlvbiB0aGUgc2hhcGVzIHdpdGhpbiB0aGUgY2FudmFzLiBXZSdyZSB1c2luZyBkYXRhLXVybHMgaW4gdGhpcyBkZW1vXHJcbiAgICogXHRob3dldmVyIHlvdSBjYW4gYWxzbyB1c2UgZmlsZSBVUkxzLCBidXQgeW91IG1heSBuZWVkIHRvIGJpbmQgdGhlIHN0YXJ0IHJ1biBtZXRob2QgdG8gdGhlIHNoYXBlcycgbG9hZGVkIGNhbGxiYWNrXHJcbiAgICpcclxuICAgKiBcdGllLlxyXG4gICAqXHRcdHNoYXBlcy5hZGQoJ2ZvbycsIG5ldyBTaGFwZSh7XHJcbiAgICpcdFx0XHQuLi5cclxuICAgKlx0XHRcdGxvYWRlZCA6IGZ1bmN0aW9uKHNoYXBlKXtcclxuICAgKlx0XHRcdFx0aWYgKHNoYXBlcy5sb2FkZWQoKSl7XHJcbiAgICpcdFx0XHRcdFx0cmVuZGVyZXIuc3RhcnQoKTtcclxuICAgKlx0XHRcdFx0fVxyXG4gICAqXHRcdFx0fVxyXG4gICAqXHRcdH0pKVxyXG4gICAqIFxyXG4gICAqL1xyXG4gICB2YXIgcHJvY2Vzc19pbWcgPSAkKCdpbWcjcHJvY2VzcycpO1xyXG4gICBzaGFwZXMuYWRkKCdwcm9jZXNzJywgbmV3IFNoYXBlKHtcclxuICAgICBzcmM6IHByb2Nlc3NfaW1nLmF0dHIoJ3NyYycpLFxyXG4gICAgIHdpZHRoOiBwcm9jZXNzX2ltZy5hdHRyKCd3aWR0aCcpICogMSwgLy8geCA1XHJcbiAgICAgaGVpZ2h0OiBwcm9jZXNzX2ltZy5hdHRyKCdoZWlnaHQnKSAqIDEsIC8vIHggNVxyXG4gICAgIG9mZnNldDoge1xyXG4gICAgICAgeDogKGNhbnZhcy53aWR0aCAtIHByb2Nlc3NfaW1nLmF0dHIoJ3dpZHRoJykgKiAxKSAqIC41LFxyXG4gICAgICAgeTogKGNhbnZhcy5oZWlnaHQgLSBwcm9jZXNzX2ltZy5hdHRyKCdoZWlnaHQnKSAqIDEpICouNVxyXG4gICAgIH0sXHJcbiAgICAgc3ByZWFkOiA5LFxyXG4gICAgIGxvYWRlZDogZnVuY3Rpb24oc2hhcGUpe1xyXG4gICAgICBpZiAoc2hhcGVzLmxvYWRlZCgpKXtcclxuICAgICAgICByZW5kZXJlci5zdGFydCgpO1xyXG4gICAgICAgfVxyXG4gICAgIH1cclxuICAgfSkpO1xyXG4gICBcclxuICAgdmFyIGVtZXJnZV9pbWcgPSAkKCdpbWcjZW1lcmdlJyk7XHJcbiAgIHNoYXBlcy5hZGQoJ2VtZXJnZScsIG5ldyBTaGFwZSh7XHJcbiAgICAgc3JjOiBlbWVyZ2VfaW1nLmF0dHIoJ3NyYycpLFxyXG4gICAgIHdpZHRoOiBlbWVyZ2VfaW1nLmF0dHIoJ3dpZHRoJykgKiAxLCAvLyB4IDVcclxuICAgICBoZWlnaHQ6IGVtZXJnZV9pbWcuYXR0cignaGVpZ2h0JykgKiAxLCAvLyB4IDVcclxuICAgICBvZmZzZXQ6IHtcclxuICAgICAgIHg6IChjYW52YXMud2lkdGggLSBlbWVyZ2VfaW1nLmF0dHIoJ3dpZHRoJykgKiAxKSAqIC41LFxyXG4gICAgICAgeTogKGNhbnZhcy5oZWlnaHQgLSBlbWVyZ2VfaW1nLmF0dHIoJ2hlaWdodCcpICogMSkgKiAuNVxyXG4gICAgIH0sXHJcbiAgICAgc3ByZWFkOiA4LFxyXG4gICAgIGxvYWRlZDogZnVuY3Rpb24oc2hhcGUpe1xyXG4gICAgICBpZiAoc2hhcGVzLmxvYWRlZCgpKXtcclxuICAgICAgICByZW5kZXJlci5zdGFydCgpO1xyXG4gICAgICAgfVxyXG4gICAgIH1cclxuICAgfSkpO1xyXG5cclxuICAgdmFyIHN5c3RlbVRoaW5raW5nX2ltZyA9ICQoJ2ltZyNzeXN0ZW1UaGlua2luZycpO1xyXG4gICBzaGFwZXMuYWRkKCdzeXN0ZW1UaGlua2luZycsIG5ldyBTaGFwZSh7XHJcbiAgICAgc3JjOiBzeXN0ZW1UaGlua2luZ19pbWcuYXR0cignc3JjJyksXHJcbiAgICAgd2lkdGg6IHN5c3RlbVRoaW5raW5nX2ltZy5hdHRyKCd3aWR0aCcpICogMSwgLy8geCA1XHJcbiAgICAgaGVpZ2h0OiBzeXN0ZW1UaGlua2luZ19pbWcuYXR0cignaGVpZ2h0JykgKiAxLCAvLyB4IDVcclxuICAgICBvZmZzZXQ6IHtcclxuICAgICAgIHg6IChjYW52YXMud2lkdGggLSBzeXN0ZW1UaGlua2luZ19pbWcuYXR0cignd2lkdGgnKSAqIDEpICogLjUsXHJcbiAgICAgICB5OiAoY2FudmFzLmhlaWdodCAtIHN5c3RlbVRoaW5raW5nX2ltZy5hdHRyKCdoZWlnaHQnKSAqIDEpICouNVxyXG4gICAgIH0sXHJcbiAgICAgc3ByZWFkOiAxMCxcclxuICAgICBsb2FkZWQ6IGZ1bmN0aW9uKHNoYXBlKXtcclxuICAgICAgaWYgKHNoYXBlcy5sb2FkZWQoKSl7XHJcbiAgICAgICAgcmVuZGVyZXIuc3RhcnQoKTtcclxuICAgICAgIH1cclxuICAgICB9XHJcbiAgIH0pKTtcclxuXHJcbiAgIHZhciBkeW5hbWljc19pbWcgPSAkKCdpbWcjZHluYW1pY3MnKTtcclxuICAgc2hhcGVzLmFkZCgnZHluYW1pY3MnLCBuZXcgU2hhcGUoe1xyXG4gICAgIHNyYzogZHluYW1pY3NfaW1nLmF0dHIoJ3NyYycpLFxyXG4gICAgIHdpZHRoOiBkeW5hbWljc19pbWcuYXR0cignd2lkdGgnKSAqIDEsIC8vIHggNVxyXG4gICAgIGhlaWdodDogZHluYW1pY3NfaW1nLmF0dHIoJ2hlaWdodCcpICogMSwgLy8geCA1XHJcbiAgICAgb2Zmc2V0OiB7XHJcbiAgICAgICB4OiAoY2FudmFzLndpZHRoIC0gZHluYW1pY3NfaW1nLmF0dHIoJ3dpZHRoJykgKiAxKSAqIC41LFxyXG4gICAgICAgeTogKGNhbnZhcy5oZWlnaHQgLSBkeW5hbWljc19pbWcuYXR0cignaGVpZ2h0JykgKiAxKSAqLjVcclxuICAgICB9LFxyXG4gICAgIHNwcmVhZDogMTAsXHJcbiAgICAgbG9hZGVkOiBmdW5jdGlvbihzaGFwZSl7XHJcbiAgICAgIGlmIChzaGFwZXMubG9hZGVkKCkpe1xyXG4gICAgICAgIHJlbmRlcmVyLnN0YXJ0KCk7XHJcbiAgICAgICB9XHJcbiAgICAgfVxyXG4gICB9KSk7XHJcblxyXG4gICB2YXIgdGVhbXNfaW1nID0gJCgnaW1nI3RlYW1zJyk7XHJcbiAgIHNoYXBlcy5hZGQoJ3RlYW1zJywgbmV3IFNoYXBlKHtcclxuICAgICBzcmM6IHRlYW1zX2ltZy5hdHRyKCdzcmMnKSxcclxuICAgICB3aWR0aDogdGVhbXNfaW1nLmF0dHIoJ3dpZHRoJykgKiAxLCAvLyB4IDVcclxuICAgICBoZWlnaHQ6IHRlYW1zX2ltZy5hdHRyKCdoZWlnaHQnKSAqIDEsIC8vIHggNVxyXG4gICAgIG9mZnNldDoge1xyXG4gICAgICAgeDogKGNhbnZhcy53aWR0aCAtIHRlYW1zX2ltZy5hdHRyKCd3aWR0aCcpICogMSkgKiAuNSxcclxuICAgICAgIHk6IChjYW52YXMuaGVpZ2h0IC0gdGVhbXNfaW1nLmF0dHIoJ2hlaWdodCcpICogMSkgKi41XHJcbiAgICAgfSxcclxuICAgICBzcHJlYWQ6IDEwLFxyXG4gICAgIGxvYWRlZDogZnVuY3Rpb24oc2hhcGUpe1xyXG4gICAgICBpZiAoc2hhcGVzLmxvYWRlZCgpKXtcclxuICAgICAgICByZW5kZXJlci5zdGFydCgpO1xyXG4gICAgICAgfVxyXG4gICAgIH1cclxuICAgfSkpO1xyXG5cclxuICAgdmFyIGRlY2lzaW9uc19pbWcgPSAkKCdpbWcjZGVjaXNpb25zJyk7XHJcbiAgIHNoYXBlcy5hZGQoJ2RlY2lzaW9ucycsIG5ldyBTaGFwZSh7XHJcbiAgICAgc3JjOiBkZWNpc2lvbnNfaW1nLmF0dHIoJ3NyYycpLFxyXG4gICAgIHdpZHRoOiBkZWNpc2lvbnNfaW1nLmF0dHIoJ3dpZHRoJykgKiAxLCAvLyB4IDVcclxuICAgICBoZWlnaHQ6IGRlY2lzaW9uc19pbWcuYXR0cignaGVpZ2h0JykgKiAxLCAvLyB4IDVcclxuICAgICBvZmZzZXQ6IHtcclxuICAgICAgIHg6IChjYW52YXMud2lkdGggLSBkZWNpc2lvbnNfaW1nLmF0dHIoJ3dpZHRoJykgKiAxKSAqIC41LFxyXG4gICAgICAgeTogKGNhbnZhcy5oZWlnaHQgLSBkZWNpc2lvbnNfaW1nLmF0dHIoJ2hlaWdodCcpICogMSkgKi41XHJcbiAgICAgfSxcclxuICAgICBzcHJlYWQ6IDEwLFxyXG4gICAgIGxvYWRlZDogZnVuY3Rpb24oc2hhcGUpe1xyXG4gICAgICBpZiAoc2hhcGVzLmxvYWRlZCgpKXtcclxuICAgICAgICByZW5kZXJlci5zdGFydCgpO1xyXG4gICAgICAgfVxyXG4gICAgIH1cclxuICAgfSkpO1xyXG5cclxuICAgdmFyIGxlYXJuaW5nX2ltZyA9ICQoJ2ltZyNsZWFybmluZycpO1xyXG4gICBzaGFwZXMuYWRkKCdsZWFybmluZycsIG5ldyBTaGFwZSh7XHJcbiAgICAgc3JjOiBsZWFybmluZ19pbWcuYXR0cignc3JjJyksXHJcbiAgICAgd2lkdGg6IGxlYXJuaW5nX2ltZy5hdHRyKCd3aWR0aCcpICogMSwgLy8geCA1XHJcbiAgICAgaGVpZ2h0OiBsZWFybmluZ19pbWcuYXR0cignaGVpZ2h0JykgKiAxLCAvLyB4IDVcclxuICAgICBvZmZzZXQ6IHtcclxuICAgICAgIHg6IChjYW52YXMud2lkdGggLSBsZWFybmluZ19pbWcuYXR0cignd2lkdGgnKSAqIDEpICogLjUsXHJcbiAgICAgICB5OiAoY2FudmFzLmhlaWdodCAtIGxlYXJuaW5nX2ltZy5hdHRyKCdoZWlnaHQnKSAqIDEpICouNVxyXG4gICAgIH0sXHJcbiAgICAgc3ByZWFkOiAxMCxcclxuICAgICBsb2FkZWQ6IGZ1bmN0aW9uKHNoYXBlKXtcclxuICAgICAgaWYgKHNoYXBlcy5sb2FkZWQoKSl7XHJcbiAgICAgICAgcmVuZGVyZXIuc3RhcnQoKTtcclxuICAgICAgIH1cclxuICAgICB9XHJcbiAgIH0pKTtcclxuXHJcbn1cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIFJlY2FsY3VsYXRlIHNoYXBlIG9mZnNldHMgdG8gY2VudGVyIHRoZW0gb24gdGhlIGNhbnZhcywgdXNlZCBmb3Igd2luZG93IHJlc2l6ZS1oYW5kbGluZyBpbiB0aGUgZGVtb1xyXG4gKiBcclxuICovXHJcbmZ1bmN0aW9uIHJlY2VudGVyU2hhcGVzKCkge1xyXG5cclxuICBmb3IgKHZhciBzaGFwZV9rZXkgaW4gc2hhcGVzLnNoYXBlcykge1xyXG5cclxuICAgIHZhciBpbWcgPSAkKCdpbWcjJyArIHNoYXBlX2tleSk7XHJcbiAgICBpZiAoaW1nLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIGNvbnRpbnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzaGFwZSA9IHNoYXBlcy5nZXQoc2hhcGVfa2V5KTtcclxuICAgIHNoYXBlLm9wdHMub2Zmc2V0LnggPSAoY2FudmFzLndpZHRoIC0gaW1nLmF0dHIoJ3dpZHRoJykpIC8gMjtcclxuICAgIHNoYXBlLm9wdHMub2Zmc2V0LnkgPSAoY2FudmFzLmhlaWdodCAtIGltZy5hdHRyKCdoZWlnaHQnKSkgLyAyO1xyXG5cclxuICAgIC8vUmVwcm9jZXNzIHZpc2libGUgcGl4ZWxzXHJcbiAgICBzaGFwZS5wcm9jZXNzKCk7XHJcbiAgfVxyXG5cclxuICAvL1NwZWNpYWwgY2FzZSBmb3IgYmxhbmtjYW52YXNcclxuICB2YXIgYmxhbmtjYW52YXMgPSBzaGFwZXMuZ2V0KCdibGFua2NhbnZhcycpO1xyXG4gIGJsYW5rY2FudmFzLm9wdHMud2lkdGggPSBjYW52YXMud2lkdGggKyA0MDA7XHJcbiAgYmxhbmtjYW52YXMub3B0cy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICsgNDAwO1xyXG4gIGJsYW5rY2FudmFzLnByb2Nlc3MoKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEluaXRpYWxpemUgYWxsIHRoZSBwYXJ0aWNsZXMgb24gdGhlIGNhbnZhcyBhbmQgc3RhcnQgdGhlIHJlbmRlcmVyIHByb2Nlc3NcclxuICogXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0UGFydGljbGVzKCkge1xyXG5cclxuICBwaWVjZV9jb2xsZWN0aW9uID0gbmV3IFBpZWNlc0NvbGxlY3Rpb24oKTtcclxuXHJcbiAgLy8gUGFydGljbGUgaW1hZ2UgaW1nL3BhcnRpY2xlLnBuZyAobmF0dXJhbCBkaW1lbnNpb25zIDI0IHggMjEpXHJcbiAgdmFyIHBhcnRpY2xlX2ltZyA9ICQoJ2ltZyNwYXJ0aWNsZScpO1xyXG5cclxuICAvL0luaXRpYWxpemUgNTAwIHBhcnRpY2xlcyBKdXN0IHB1dCBpdCBhdCBhIHJhbmRvbSBsb2NhdGlvbiBvbiB0aGUgY2FudmFzXHJcbiAgdmFyIHNwb3RzID0gc2hhcGVzLmdldCgnYmxhbmtjYW52YXMnKS5nZXRWaXNpYmxlUGl4ZWxzKCk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XHJcblxyXG4gICAgdmFyIHJhbmRvbV9pbmRleCA9IEhlbHBlcnMuUmFuZG9tLmdldFJhbmRvbUluZGV4KHNwb3RzKTtcclxuICAgIHZhciBwb2ludCA9IHNwb3RzLnNwbGljZShyYW5kb21faW5kZXgsIDEpWzBdO1xyXG5cclxuICAgIC8vQ2lyY2xlIFBpZWNlXHJcbiAgICBwaWVjZV9jb2xsZWN0aW9uLmFkZChuZXcgQ2lyY2xlUGllY2Uoe1xyXG4gICAgXHR4IDogcG9pbnQueCxcclxuICAgIFx0eSA6IHBvaW50LnksXHJcbiAgICBcdHJhZGl1cyA6IDUsXHJcbiAgICBcdGZpbGxTdHlsZSA6ICdyZ2JhKDI0LDE4OCwxNTYsMSknLFxyXG4gICAgICBqaXR0ZXJfcmFkaXVzOiBIZWxwZXJzLlJhbmRvbS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMTAsIDE1KSxcclxuICAgICAgaml0dGVyX3NwZWVkOiBIZWxwZXJzLlJhbmRvbS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMTAwMCwgMTIwMClcclxuICAgIH0pKTtcclxuICAgIFxyXG4gICAgLy9CdWJibGUgUGllY2VcclxuICAgIC8vIHBpZWNlX2NvbGxlY3Rpb24uYWRkKG5ldyBCdWJibGVQaWVjZSh7XHJcbiAgICAvLyAgIHg6IHBvaW50LngsXHJcbiAgICAvLyAgIHk6IHBvaW50LnksXHJcbiAgICAvLyAgIHNjYWxlOiAoSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDUsIDEwKSAvIDEwKSxcclxuICAgIC8vICAgaW1nOiBwYXJ0aWNsZV9pbWcsXHJcbiAgICAvLyAgIGltZ193aWR0aDogcGFydGljbGVfaW1nLmF0dHIoJ3dpZHRoJyksXHJcbiAgICAvLyAgIGltZ19oZWlnaHQ6IHBhcnRpY2xlX2ltZy5hdHRyKCdoZWlnaHQnKSxcclxuICAgIC8vICAgaml0dGVyX3JhZGl1czogSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDEwLCAxNSksXHJcbiAgICAvLyAgIGppdHRlcl9zcGVlZDogSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDEwMDAsIDEyMDApXHJcbiAgICAvLyB9KSk7XHJcbiAgfVxyXG5cclxuICAvL0luaXRpYWxpemUgdGhlIFJlbmRlcmVyXHJcbiAgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoe1xyXG4gICAgY2FudmFzOiBjYW52YXMsXHJcbiAgICBkcmF3OiBmdW5jdGlvbihyKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllY2VfY29sbGVjdGlvbi5waWVjZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcGllY2UgPSBwaWVjZV9jb2xsZWN0aW9uLnBpZWNlc1tpXTtcclxuICAgICAgICBwaWVjZS5kcmF3KHIuY2FudmFzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvL0ZpbmFsbHkgc3RhcnRcclxuICByZW5kZXJlci5zdGFydCgpO1xyXG5cclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuICogXHJcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHRyYW5zaXRpb24gZnJvbSBvbmUgc2hhcGUgdG8gdGhlIG5leHQsIHRoaXMgZnVuY3Rpb24gZGVtb25zdHJhdGVzIGEgdHJhbnNpdGlvbiB0byBhIHRhcmdldCBzaGFwZSB2aWEgXHJcbiAqIGFuIGludGVybWVkaWF0ZSByYW5kb20gZXhwbG9zaW9uXHJcbiAqIFxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZVNoYXBlKHNoYXBlKSB7XHJcblxyXG4gIC8vQmxvdyBpdCB1cCBmaXJzdFxyXG4gIHZhciBibGFua2NhbnZhcyA9IHNoYXBlcy5nZXQoJ2JsYW5rY2FudmFzJyk7XHJcbiAgdG9TaGFwZShibGFua2NhbnZhcywge1xyXG4gICAgJ2Vhc2luZyc6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICAnc3BlZWQnOiAxMDAwXHJcbiAgfSk7XHJcblxyXG4gIC8vLi4gdGhlbiB0cmFuc2l0aW9uIHRvIHNoYXBlXHJcbiAgdG9TaGFwZShzaGFwZSwge1xyXG4gICAgJ2Vhc2luZyc6ICdlYXNlSW5PdXRRdWFkJyxcclxuICAgICdzcGVlZCc6IDEwMDAsXHJcbiAgICAnYWRkaXRpdmUnOiB0cnVlXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4vKipcclxuICpcclxuICogVGhlIGdpc3Qgb2YgbW9ycGhpbmcgYSBzd2FybSBpbnRvIGEgc2hhcGUgaXMgYnkgaXRlcmF0aW5nIGFsbCB0aGUgcGllY2VzIGluIHRoZSBjb2xsZWN0aW9uLCBmaW5kIGFuIGF2YWlsYWJsZSBzcG90IG9uXHJcbiAqIHRoZSB0YXJnZXQgc2hhcGUsIGFuZCB0d2VlbmluZyB0aGUgcG9zaXRpb24gb2YgdGhlIHBpZWNlIHRvd2FyZHMgdGhlIHRhcmdldCBzcG90XHJcbiAqIFxyXG4gKi9cclxuZnVuY3Rpb24gdG9TaGFwZShzaGFwZSwgb3B0cykge1xyXG5cclxuICB2YXIgZGVmYXVsdHMgPSB7XHJcbiAgICBlYXNpbmc6ICdlYXNlT3V0UXVhZCcsXHJcbiAgICBzcGVlZDogMjAwMCxcclxuICAgIGFkZGl0aXZlOiBmYWxzZSxcclxuICAgIHJhbmRvbTogZmFsc2UsXHJcbiAgICByYW5nZTogMCxcclxuICAgIHJlcGVhdDogZmFsc2VcclxuICB9O1xyXG5cclxuICB2YXIgX29wdHMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdHMpO1xyXG5cclxuICB2YXIgc3BvdHMgPSBzaGFwZS5nZXRWaXNpYmxlUGl4ZWxzKCk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGllY2VfY29sbGVjdGlvbi5waWVjZXMubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICB2YXIgcGllY2UgPSBwaWVjZV9jb2xsZWN0aW9uLnBpZWNlc1tpXTtcclxuXHJcbiAgICBpZiAoY3VycmVudF9zaGFwZSA9PSAnYmxhbmtjYW52YXMnKSB7XHJcblxyXG4gICAgICBwaWVjZS5qaXR0ZXJfcmFkaXVzID0gSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDEwLCAxNSk7XHJcbiAgICAgIHBpZWNlLmppdHRlcl9zcGVlZCA9IEhlbHBlcnMuUmFuZG9tLmdldFJhbmRvbUludEluY2x1c2l2ZSgxMDAwLCAxMjAwKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgcGllY2Uuaml0dGVyX3JhZGl1cyA9IEhlbHBlcnMuUmFuZG9tLmdldFJhbmRvbUludEluY2x1c2l2ZSgxLCAyKTtcclxuICAgICAgcGllY2Uuaml0dGVyX3NwZWVkID0gSGVscGVycy5SYW5kb20uZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDgwMCwgMTAwMCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vRmluZCBhIHNwb3RcclxuICAgIGlmIChzcG90cy5sZW5ndGggPiAwKSB7XHJcblxyXG4gICAgICAvL0ZpbmQgYSBzb2xpZCBwb2ludCBvbiB0aGUgaW1hZ2VcclxuICAgICAgdmFyIHJhbmRvbV9pbmRleCA9IEhlbHBlcnMuUmFuZG9tLmdldFJhbmRvbUluZGV4KHNwb3RzKTtcclxuICAgICAgdmFyIHBvaW50ID0gc3BvdHMuc3BsaWNlKHJhbmRvbV9pbmRleCwgMSlbMF07XHJcblxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIC8vUmFuZG9tIHBvaW50IG9uIGNhbnZhc1xyXG4gICAgICB2YXIgeCA9IEhlbHBlcnMuUmFuZG9tLmdldFJhbmRvbUludEluY2x1c2l2ZSgwLCBjYW52YXMud2lkdGggLSAxKTtcclxuICAgICAgdmFyIHkgPSBIZWxwZXJzLlJhbmRvbS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMCwgY2FudmFzLmhlaWdodCAtIDEpO1xyXG4gICAgICB2YXIgcG9pbnQgPSBuZXcgUG9pbnQoeCwgeSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNwZWVkID0gX29wdHMuc3BlZWQ7XHJcbiAgICBpZiAoX29wdHMucmFuZG9tICYmIChfb3B0cy5yYW5nZSA+IDApKSB7XHJcbiAgICAgIHNwZWVkID0gX29wdHMuc3BlZWQgLSBNYXRoLnJvdW5kKF9vcHRzLnJhbmdlIC8gMikgKyBIZWxwZXJzLlJhbmRvbS5nZXRSYW5kb21JbnRJbmNsdXNpdmUoMCwgX29wdHMucmFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0d2VlbiA9IG5ldyBUd2Vlbih7XHJcbiAgICAgIGZyb206IHBpZWNlLnByZXNlbnRhdGlvblBvaW50LFxyXG4gICAgICB0bzogbmV3IFBvaW50KHBvaW50LngsIHBvaW50LnkpLFxyXG4gICAgICBlYXNpbmc6IF9vcHRzLmVhc2luZyxcclxuICAgICAgZHVyYXRpb246IHNwZWVkLFxyXG4gICAgICByZXBlYXQ6IF9vcHRzLnJlcGVhdFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFfb3B0cy5hZGRpdGl2ZSkge1xyXG4gICAgICBwaWVjZS5jbGVhclR3ZWVucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHBpZWNlLmFkZFR3ZWVuKHR3ZWVuKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbn1cclxuXG47XG4vKipcclxuICogXHJcbiAqIFx0UGllY2VzIENvbGxlY3Rpb25cclxuICogXHJcbiAqL1xyXG5mdW5jdGlvbiBQaWVjZXNDb2xsZWN0aW9uKCl7XHJcblx0dGhpcy5waWVjZXMgPSBbXTtcclxuXHR0aGlzLmFkZCA9IGZ1bmN0aW9uKHBpZWNlKXtcclxuXHRcdHRoaXMucGllY2VzLnB1c2gocGllY2UpO1xyXG5cdH07XHJcbn07XHJcblxyXG5QaWVjZXNDb2xsZWN0aW9uLnByb3RvdHlwZS5zZXRKaXR0ZXJGYWN0b3IgPSBmdW5jdGlvbihqaXR0ZXJfZmFjdG9yKSB7XHJcblx0Zm9yICh2YXIgaT0wO2k8dGhpcy5waWVjZXMubGVuZ3RoO2krKyl7XHJcblx0XHR2YXIgcGllY2UgPSB0aGlzLnBpZWNlc1tpXTtcclxuXHRcdHBpZWNlLmppdHRlcl9mYWN0b3IgPSBqaXR0ZXJfZmFjdG9yO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vKipcclxuICogXHRcclxuICogXHRQaWVjZVxyXG4gKiBcdFxyXG4gKi9cclxuZnVuY3Rpb24gUGllY2Uob3B0cyl7XHJcblx0dmFyIGRlZmF1bHRzID0ge1xyXG5cdFx0eCA6IDAsXHJcblx0XHR5IDogMCxcclxuXHRcdC8vaml0dGVyIDogZnVuY3Rpb24oKXt9XHJcblx0fTtcclxuXHR2YXIgX29wdHMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdHMpO1xyXG5cdHRoaXMucG9pbnQgPSBuZXcgUG9pbnQoX29wdHMueCwgX29wdHMueSk7XHJcblx0dGhpcy5wcmVzZW50YXRpb25Qb2ludCA9IG5ldyBQb2ludChfb3B0cy54LCBfb3B0cy55KTtcclxuXHR0aGlzLnR3ZWVucyA9IFtdO1xyXG5cdC8vdGhpcy5qaXR0ZXIgPSBfb3B0cy5qaXR0ZXI7XHJcbn07XHJcblxyXG5cclxuLy9EcmF3IG1ldGhvZFxyXG5QaWVjZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGNhbnZhcykge1xyXG5cdC8vU3ViY2xhc3NlcyBkZWZpbmUgdGhlaXIgb3duIGRyYXdpbmcgbWV0aG9kXHJcbn07XHJcblxyXG4vL0FueSBjYWxjdWxhdGlvbnMgdGhhdCBuZWVkIHRvIGJlIG1hZGUgb24gdGhlIHByZXNlbnRhdGlvbiBsYXllcidzIHBvaW50PyBpZS4gdHdlZW5zIGV0Y1xyXG5QaWVjZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG5cdHNlbGYuZG9Ud2VlbigpO1xyXG5cclxufTtcclxuXHJcblxyXG5QaWVjZS5wcm90b3R5cGUuZG9Ud2VlbiA9IGZ1bmN0aW9uKCl7XHJcblxyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHRcclxuXHR2YXIgdHdlZW4gPSBudWxsO1xyXG5cdGZvciAodmFyIGk9MDtpPHNlbGYudHdlZW5zLmxlbmd0aDtpKyspe1xyXG5cdFx0dmFyIHRoZV90d2VlbiA9IHNlbGYudHdlZW5zW2ldO1xyXG5cdFx0aWYgKHRoZV90d2Vlbi5zdGFydGVkKXtcclxuXHRcdFx0dHdlZW4gPSB0aGVfdHdlZW47XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCAhdHdlZW4gKXtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblx0XHJcblx0dmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdHZhciBkZWx0YSA9IG5vdyAtIHR3ZWVuLnN0YXJ0ZWQ7XHJcblxyXG5cdGlmICggZGVsdGEgPj0gdHdlZW4uZHVyYXRpb24gKXtcclxuXHJcblx0XHQvL1R3ZWVuIGNvbXBsZXRlZCwgdXBkYXRlIHRoZSBtb2RlbCB0byB0aGUgdGFyZ2V0IGxheWVyXHJcblx0XHRzZWxmLnBvaW50LnggPSB0d2Vlbi50by54O1xyXG5cdFx0c2VsZi5wb2ludC55ID0gdHdlZW4udG8ueTtcclxuXHJcblx0XHQvL01hdGNoaW5nIHByZXNlbnRhdGlvbiBsYXllclxyXG5cdFx0c2VsZi5wcmVzZW50YXRpb25Qb2ludC54ID0gdHdlZW4udG8ueDtcclxuXHRcdHNlbGYucHJlc2VudGF0aW9uUG9pbnQueSA9IHR3ZWVuLnRvLnk7XHJcblxyXG5cdFx0Ly9SZW1vdmUgY3VycmVudCB0d2VlbiBhbmQgbW92ZSBvbiB0byB0aGUgbmV4dCBvbmUsIHVubGVzcyBpdCdzIGEgcmVwZWF0aW5nIHR3ZWVuXHJcblx0XHRpZiAoICF0d2Vlbi5yZXBlYXQgKXtcclxuXHRcdFx0XHJcblx0XHRcdHNlbGYudHdlZW5zLnNwbGljZSgwLDEpO1xyXG5cdFx0XHRpZiAoIHNlbGYudHdlZW5zLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRcdHZhciBuZXh0X3R3ZWVuID0gc2VsZi50d2VlbnNbMF07XHJcblx0XHRcdFx0bmV4dF90d2Vlbi5mcm9tID0gbmV4dF90d2Vlbi5vcmlnaW5hbF9mcm9tID0gbmV3IFBvaW50KCB0aGlzLnByZXNlbnRhdGlvblBvaW50LngsIHRoaXMucHJlc2VudGF0aW9uUG9pbnQueSApO1xyXG5cdFx0XHRcdG5leHRfdHdlZW4uc3RhcnQoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHQvL0ZsaXAgdGhlIGZyb20vdG9cclxuXHRcdFx0dHdlZW4ucmV2ZXJzaW5nID0gIXR3ZWVuLnJldmVyc2luZztcclxuXHJcblx0XHRcdGlmICh0d2Vlbi5yZXZlcnNpbmcpe1xyXG5cdFx0XHRcdHR3ZWVuLnRvID0gdHdlZW4ub3JpZ2luYWxfZnJvbTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0d2Vlbi50byA9IHR3ZWVuLm9yaWdpbmFsX3RvO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0d2Vlbi5mcm9tID0gbmV3IFBvaW50KCB0aGlzLnByZXNlbnRhdGlvblBvaW50LngsIHRoaXMucHJlc2VudGF0aW9uUG9pbnQueSApO1xyXG5cdFx0XHR0d2Vlbi5zdGFydCgpO1xyXG5cdFx0fVxyXG5cdFx0XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0dmFyIHJhbmdlX3ggPSB0d2Vlbi50by54IC0gdHdlZW4uZnJvbS54O1xyXG5cdFx0dmFyIHJhbmdlX3kgPSB0d2Vlbi50by55IC0gdHdlZW4uZnJvbS55O1xyXG5cclxuXHRcdHZhciBjdXJyZW50X3ggPSB0d2Vlbi5lYXNpbmcoIGRlbHRhLCB0d2Vlbi5mcm9tLngsIHJhbmdlX3gsIHR3ZWVuLmR1cmF0aW9uKTtcclxuXHRcdHZhciBjdXJyZW50X3kgPSB0d2Vlbi5lYXNpbmcoIGRlbHRhLCB0d2Vlbi5mcm9tLnksIHJhbmdlX3ksIHR3ZWVuLmR1cmF0aW9uKTtcclxuXHJcblx0XHRzZWxmLnByZXNlbnRhdGlvblBvaW50LnggPSBjdXJyZW50X3g7XHJcblx0XHRzZWxmLnByZXNlbnRhdGlvblBvaW50LnkgPSBjdXJyZW50X3k7XHJcblxyXG5cdH1cclxufTtcclxuXHJcblxyXG4vL1N1YmNsYXNzZXMgc2hvdWxkIGRlZmluZSB0aGVpciBvd24gaml0dGVyIGZ1bmN0aW9uXHJcblBpZWNlLnByb3RvdHlwZS5qaXR0ZXIgPSBmdW5jdGlvbihwb2ludCl7XHJcblx0cmV0dXJuIHBvaW50O1xyXG59O1xyXG5cclxuXHJcblxyXG5QaWVjZS5wcm90b3R5cGUuY2xlYXJUd2VlbnMgPSBmdW5jdGlvbigpe1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHRzZWxmLnR3ZWVucyA9IFtdO1xyXG5cdHRoaXMucG9pbnQgPSBuZXcgUG9pbnQoIHRoaXMucHJlc2VudGF0aW9uUG9pbnQueCwgdGhpcy5wcmVzZW50YXRpb25Qb2ludC55ICk7XHJcblx0cmV0dXJuIHNlbGY7XHJcbn07XHJcblxyXG5cclxuUGllY2UucHJvdG90eXBlLmFkZFR3ZWVuID0gZnVuY3Rpb24gKHR3ZWVuKXtcclxuXHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cdFxyXG5cdHNlbGYudHdlZW5zLnB1c2goIHR3ZWVuICk7XHJcblxyXG5cdGlmICggc2VsZi50d2VlbnMubGVuZ3RoID09IDEgKXtcclxuXHRcdC8vU3RhcnQgaW1tZWRpYXRlbHlcclxuXHRcdHR3ZWVuLmZyb20gPSB0d2Vlbi5vcmlnaW5hbF9mcm9tID0gbmV3IFBvaW50KCB0aGlzLnByZXNlbnRhdGlvblBvaW50LngsIHRoaXMucHJlc2VudGF0aW9uUG9pbnQueSApO1xyXG5cclxuXHRcdHRoaXMucG9pbnQgPSBuZXcgUG9pbnQoIHRoaXMucHJlc2VudGF0aW9uUG9pbnQueCwgdGhpcy5wcmVzZW50YXRpb25Qb2ludC55ICk7XHJcblx0XHRzZWxmLnR3ZWVuc1swXS5zdGFydCgpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHNlbGY7XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxuO1xuLyoqXHJcbiAqIFx0XHJcbiAqIFx0UmVuZGVyZXIgaXMgYSBtYW5hZ2VyIGZvciB0aGUgcnVuIGxvb3AgY29uc2lzdGluZyBvZiB0aGUgZm9sbG93aW5nIHBoYXNlc1xyXG4gKiBcdC0gY2xlYXJcclxuICogXHQtIGRyYXdcclxuICogXHQtIHF1ZXVlXHJcbiAqXHJcbiAqXHRUaGUgZHJhdyBtZXRob2QgYnkgZGVmYXVsdCBkb2VzIG5vdGhpbmcsIHdlJ2xsIG5lZWQgdG8gcGFzcyBhIGN1c3RvbSBtZXRob2QgXHJcbiAqXHR0aHJvdWdoIHRoZSBjb25zdHJ1Y3RvciB0byBydW4gYXQgZWFjaCBkcmF3IHBoYXNlIFxyXG4gKlx0XHJcbiAqL1xyXG5mdW5jdGlvbiBSZW5kZXJlcihvcHRzKXtcclxuXHJcblx0dmFyIGRlZmF1bHRzID0ge1xyXG5cdFx0Y2FudmFzIDogbnVsbCxcclxuXHRcdGRyYXcgOiBmdW5jdGlvbigpe31cclxuXHR9O1xyXG5cdFxyXG5cdHZhciBfb3B0cyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0cyk7XHJcblxyXG5cdHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xyXG5cdHRoaXMucmVxdWVzdF9pZCA9IG51bGw7XHJcblxyXG5cdHRoaXMuY2FudmFzID0gX29wdHMuY2FudmFzO1xyXG5cdHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcblx0dGhpcy5kcmF3X2Z1bmN0aW9uID0gX29wdHMuZHJhdztcclxufVxyXG5cclxuXHJcblJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgc2VsZiA9IHRoaXM7XHJcblx0c2VsZi5zdG9wcGVkID0gdHJ1ZTtcclxuXHR3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoIHNlbGYucmVxdWVzdF9pZCApO1xyXG5cdHNlbGYucmVxdWVzdF9pZCA9IG51bGw7XHJcbn07XHJcblxyXG5SZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpe1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHRzZWxmLnN0b3BwZWQgPSBmYWxzZTtcclxuXHRzZWxmLmxvb3AoKTtcclxufTtcclxuXHJcblxyXG5SZW5kZXJlci5wcm90b3R5cGUubG9vcCA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHJcblx0aWYgKCBzZWxmLnN0b3BwZWQgKXtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdHNlbGYuY2xlYXIoKTtcclxuXHRzZWxmLmRyYXcoKTtcclxuXHRzZWxmLnF1ZXVlKCk7XHJcblxyXG59O1xyXG5cclxuUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XHJcblx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cdHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuUmVuZGVyZXIucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpe1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHQvL1JlbmRlcmVyIGlzIHBhc3NlZCBpbnRvIHRoZSB1c2VyLWRlZmluZWQgZHJhd19mdW5jdGlvblxyXG5cdHNlbGYuZHJhd19mdW5jdGlvbihzZWxmKTtcclxuXHRyZXR1cm4gc2VsZjtcclxufTtcclxuXHJcblJlbmRlcmVyLnByb3RvdHlwZS5xdWV1ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHRzZWxmLnJlcXVlc3RfaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XHJcblx0XHRzZWxmLmxvb3AuYXBwbHkoc2VsZik7XHJcblx0fSk7XHJcbn07XG47XG5cclxuLyoqXHJcbiAqXHJcbiAqIFx0U2hhcGVzIENvbGxlY3Rpb25cclxuICogXHRcclxuICovXHJcbmZ1bmN0aW9uIFNoYXBlc0NvbGxlY3Rpb24oKXtcclxuXHR0aGlzLnNoYXBlcyA9IHt9O1xyXG5cclxuXHQvL0FkZGluZ1xyXG5cdHRoaXMuYWRkID0gZnVuY3Rpb24oa2V5LCBzaGFwZSl7XHJcblx0XHR0aGlzLnNoYXBlc1trZXldID0gc2hhcGU7XHJcblx0fTtcclxuXHJcblx0Ly9DaGVja2luZ1xyXG5cdHRoaXMubG9hZGVkID0gZnVuY3Rpb24oKXtcclxuXHRcdHZhciBsb2FkZWQgPSB0cnVlO1xyXG5cdFx0Zm9yICh2YXIga2V5IGluIHRoaXMuc2hhcGVzKXtcclxuXHRcdFx0dmFyIHNoYXBlID0gdGhpcy5zaGFwZXNba2V5XTtcclxuXHRcdFx0aWYgKChzaGFwZSA9PSBudWxsKXx8KHNoYXBlLmxvYWRlZCA9PSBmYWxzZSkpe1xyXG5cdFx0XHRcdGxvYWRlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbG9hZGVkO1xyXG5cdH07XHJcblxyXG5cdHRoaXMuZ2V0ID0gZnVuY3Rpb24oa2V5KXtcclxuXHRcdHJldHVybiB0aGlzLnNoYXBlc1trZXldO1xyXG5cdH07XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIFx0U2hhcGVcclxuICogXHRcclxuICovXHJcbmZ1bmN0aW9uIFNoYXBlKG9wdHMpe1xyXG5cdC8vUHJvcGVydGllc1xyXG5cdHZhciBzZWxmID0gdGhpcztcclxuXHR0aGlzLmxvYWRlZCA9IGZhbHNlO1xyXG5cclxuXHR2YXIgZGVmYXVsdHMgPSB7XHJcblx0XHRzcmMgOiAnJyxcclxuXHRcdHdpZHRoIDogMCxcclxuXHRcdGhlaWdodDogMCxcclxuXHRcdG9mZnNldCA6IHtcclxuXHRcdFx0eCA6IDAsXHJcblx0XHRcdHkgOiAwXHJcblx0XHR9LFxyXG5cdFx0Ly9TcHJlYWQgZmFjdG9yLCB0aGUgaW1hZ2Ugd2lsbCBiZSBkb3duc2l6ZWQgdGhlbiB0aGUgY29vcmRpbmF0ZXMgbXVsdGlwbGllZCBieSB0aGlzIHRvIGVuY291cmFnZSBhIHBpeGVsIHNwcmVhZCAnbWFyZ2luJ1xyXG5cdFx0c3ByZWFkIDogMSxcclxuXHRcdGxvYWRlZCA6IGZ1bmN0aW9uKCl7fVxyXG5cdH07XHJcblx0XHJcblx0dmFyIF9vcHRzID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRzKTtcclxuXHJcblx0dGhpcy5vcHRzID0gX29wdHM7XHJcblx0dGhpcy5pbWFnZURhdGEgPSBudWxsO1xyXG5cdFxyXG5cclxuXHRpZiAoIHRoaXMub3B0cy5zcmMgIT0gJycgKXtcclxuXHJcblx0XHR0aGlzLmltZyA9ICQoJzxpbWcvPicpO1xyXG5cdFx0dGhpcy5pbWcuYmluZCgnbG9hZCcsIGZ1bmN0aW9uKCl7XHJcblx0XHRcdHNlbGYubG9hZGVkID0gdHJ1ZTtcclxuXHRcdFx0c2VsZi5wcm9jZXNzKCk7XHJcblx0XHRcdHNlbGYub3B0cy5sb2FkZWQoc2VsZik7XHJcblx0XHR9KTtcclxuXHRcdHRoaXMuaW1nLmF0dHIoJ3NyYycsIF9vcHRzLnNyYyk7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Ly9BcnJheSBvZiBwb2ludHNcclxuXHRcdHNlbGYucHJvY2VzcygpO1xyXG5cdFx0c2VsZi5sb2FkZWQgPSB0cnVlO1xyXG5cdFx0c2VsZi5vcHRzLmxvYWRlZChzZWxmKTtcclxuXHJcblx0fVxyXG5cclxuXHRcclxufVxyXG5cclxuLy9SZWFkIHRoZSBpbWFnZSBkYXRhXHJcblNoYXBlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuXHQvL0FycmF5IG9mIHBvaW50c1xyXG5cdHRoaXMudmlzaWJsZVBpeGVscyA9IFtdO1xyXG5cclxuXHR2YXIgd2lkdGggPSBNYXRoLnJvdW5kKCBzZWxmLm9wdHMud2lkdGggLyBzZWxmLm9wdHMuc3ByZWFkICk7XHJcblx0dmFyIGhlaWdodCA9IE1hdGgucm91bmQoIHNlbGYub3B0cy5oZWlnaHQgLyBzZWxmLm9wdHMuc3ByZWFkICk7XHJcblxyXG5cdGlmICggdGhpcy5pbWcgKXtcclxuXHJcblx0XHR2YXIgY2FudmFzX2RvbSA9ICQoJzxjYW52YXMgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIj4nKTtcclxuXHRcdHZhciBjYW52YXMgPSBjYW52YXNfZG9tWzBdO1xyXG5cdFx0dmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cdFx0Y3R4LmRyYXdJbWFnZShzZWxmLmltZ1swXSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG5cdFx0c2VsZi5pbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHJcblx0XHRmb3IgKHZhciB5PTA7IHk8aGVpZ2h0OyB5Kyspe1xyXG5cdFx0XHRmb3IgKHZhciB4PTA7IHg8d2lkdGg7IHgrKyl7XHJcblx0XHRcdFx0Ly9XZSdyZSBvbmx5IHJlYWRpbmcgdGhlIGFscGhhIHZhbHVlIHJnYmEgKGZvdXJ0aCBwb3NpdGlvbilcclxuXHRcdFx0XHQvL0xvb2tpbmcgYXQgeCx5XHJcblx0XHRcdFx0dmFyIGFscGhhX2luZGV4ID0gKCh5ICogd2lkdGggKiA0KSArICh4ICogNCkgKSArIDM7XHJcblx0XHRcdFx0dmFyIGFscGhhID0gc2VsZi5pbWFnZURhdGEuZGF0YVthbHBoYV9pbmRleF07XHJcblx0XHRcdFx0aWYgKGFscGhhID4gMCl7XHJcblx0XHRcdFx0XHRzZWxmLnZpc2libGVQaXhlbHMucHVzaCggbmV3IFBvaW50KCh4KnNlbGYub3B0cy5zcHJlYWQpICsgc2VsZi5vcHRzLm9mZnNldC54LCAoeSpzZWxmLm9wdHMuc3ByZWFkKSArIHNlbGYub3B0cy5vZmZzZXQueSApICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Zm9yICh2YXIgeD0wO3g8d2lkdGg7eCsrICl7XHJcblx0XHRcdGZvciAodmFyIHk9MDt5PGhlaWdodDt5KysgKXtcclxuXHRcdFx0XHRzZWxmLnZpc2libGVQaXhlbHMucHVzaCggbmV3IFBvaW50KCAoeCAqIHNlbGYub3B0cy5zcHJlYWQgKSArIHRoaXMub3B0cy5vZmZzZXQueCwgKHkgKiBzZWxmLm9wdHMuc3ByZWFkICkgKyB0aGlzLm9wdHMub2Zmc2V0LnkgKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0XHJcbn07XHJcblxyXG5cclxuU2hhcGUucHJvdG90eXBlLmdldFZpc2libGVQaXhlbHMgPSBmdW5jdGlvbigpe1xyXG5cdHJldHVybiB0aGlzLnZpc2libGVQaXhlbHMuc2xpY2UoMCk7XHJcbn07XHJcblxyXG5cbjtcbi8qKlxyXG4gKlxyXG4gKiBcdHh5IFBvc2l0aW9uIFR3ZWVuXHJcbiAqIFx0XHJcbiAqL1xyXG5mdW5jdGlvbiBUd2VlbihvcHRzKXtcclxuXHJcblx0dmFyIGRlZmF1bHRzID0ge1xyXG5cdFx0LypcclxuXHRcdFx0ZnJvbSB2YWx1ZXMgd2lsbCBnZXQgcG9wdWxhdGVkIGZpcnN0IHRpbWUgdHdlZW4gcnVuc1xyXG5cdFx0Ki9cclxuXHRcdHRvIDoge1xyXG5cdFx0XHR4IDogMCxcclxuXHRcdFx0eSA6IDBcclxuXHRcdH0sXHJcblx0XHRlYXNpbmcgOiAnbGluZWFyJyxcclxuXHRcdGR1cmF0aW9uIDogMTAwMCxcclxuXHRcdHJlcGVhdCA6IGZhbHNlXHJcblx0fTtcclxuXHRcclxuXHR2YXIgX29wdHMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdHMpO1xyXG5cclxuXHR0aGlzLnN0YXJ0ZWQgPSBudWxsO1xyXG5cdHRoaXMuZHVyYXRpb24gPSBfb3B0cy5kdXJhdGlvbjtcclxuXHJcblx0dGhpcy5yZXBlYXQgPSBfb3B0cy5yZXBlYXQ7XHJcblx0dGhpcy5yZXZlcnNpbmcgPSBmYWxzZTtcclxuXHJcblx0dGhpcy5vcmlnaW5hbF9mcm9tID0ge1xyXG5cdFx0eCA6IG51bGwsXHJcblx0XHR5IDogbnVsbFxyXG5cdH07XHJcblxyXG5cdHRoaXMub3JpZ2luYWxfdG8gPSB7XHJcblx0XHR4IDogX29wdHMudG8ueCxcclxuXHRcdHkgOiBfb3B0cy50by55XHJcblx0fTtcclxuXHJcblx0dGhpcy50byA9IF9vcHRzLnRvO1xyXG5cclxuXHR0aGlzLnN0YXJ0ID0gZnVuY3Rpb24oKXtcclxuXHRcdHRoaXMuc3RhcnRlZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cdH07XHJcblxyXG5cdGlmICggX29wdHMuZWFzaW5nIGluIEhlbHBlcnMuRWFzaW5nICl7XHJcblx0XHR0aGlzLmVhc2luZyA9IEhlbHBlcnMuRWFzaW5nW19vcHRzLmVhc2luZ107XHJcblx0fSBlbHNlIHtcclxuXHRcdHRoaXMuZWFzaW5nID0gSGVscGVycy5FYXNpbmcubGluZWFyO1xyXG5cdH1cclxufTtcclxuXHJcblR3ZWVuLnByb3RvdHlwZS5zZXRGcm9tID0gZnVuY3Rpb24oZnJvbSl7XHJcblx0dGhpcy5mcm9tID0gZnJvbTtcclxuXHR0aGlzLm9yaWdpbmFsX2Zyb20gPSBmcm9tO1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxuO1xuLy8gU2NyaXB0IGZvciB1cGRhdGluZyBtb2RhbCBjb250ZW50IChzZWUgZXhhbXBsZXMgb24gbGFiIHJlc291cmNlcyBwYWdlKVxyXG5cclxuJCgnI3pvb20tbW9kYWwnKS5vbignc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIGltYWdlID0gJChldmVudC5yZWxhdGVkVGFyZ2V0KSAvLyBJbWFnZSB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgIHZhciBmdWxsSW1hZ2UgPSBpbWFnZS5kYXRhKCdmdWxsLWltYWdlJykgLy8gRXh0cmFjdCBzcmMgb2YgaGlnaGVyIHJlc29sdXRpb24gaW1hZ2UgZnJvbSBkYXRhLSogYXR0cmlidXRlIG9mIGNsaWNrZWQgaW1hZ2VcclxuICAgIHZhciBpbWFnZUNhcHRpb24gPSBpbWFnZS5kYXRhKCdtb2RhbC1jYXB0aW9uJykgLy8gRXh0cmFjdCBjYXB0aW9uIGZyb20gZGF0YS0qIGF0dHJpYnV0ZSBvZiBjbGlja2VkIGltYWdlXHJcbiAgICAvLyBVcGFkdGUgbW9kYWwgY29udGVudHNcclxuICAgIHZhciBtb2RhbCA9ICQodGhpcylcclxuICAgIG1vZGFsLmZpbmQoJy5tb2RhbC1ib2R5IGltZycpLmF0dHIoJ3NyYycsIGZ1bGxJbWFnZSlcclxuICAgIG1vZGFsLmZpbmQoJy5tb2RhbC1ib2R5IGZpZ2NhcHRpb24nKS50ZXh0KGltYWdlQ2FwdGlvbilcclxufSkiXSwKICAibWFwcGluZ3MiOiAiOztBQUFBLEVBQUMsT0FBTTtBQUVMLFFBQUksV0FBVyxPQUFPLFVBQVUsU0FBUyxRQUFRO0FBQy9DLGVBQVMsSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUs7QUFDekMsWUFBSSxTQUFTLFVBQVU7QUFDdkIsaUJBQVMsT0FBTyxRQUFRO0FBQ3RCLGNBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLE1BQU07QUFDckQsbUJBQU8sT0FBTyxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBSTNCLGFBQU87QUFBQTtBQUVULFFBQUksY0FBYyxzQkFBc0IsTUFBTTtBQUM1QyxhQUFP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
